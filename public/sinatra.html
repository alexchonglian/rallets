<!DOCTYPE html>
<!-- saved from url=(0041)https://github.com/sinatra/sinatra#routes -->
<html lang="en" class="   "><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    
    
    <title>sinatra/sinatra</title>
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="https://github.com/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://github.com/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://github.com/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://github.com/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site"><meta content="summary" name="twitter:card"><meta content="sinatra/sinatra" name="twitter:title"><meta content="sinatra - Classy web-development dressed in a DSL (official / canonical repo)" name="twitter:description"><meta content="https://avatars1.githubusercontent.com/u/8312?v=2&amp;s=400" name="twitter:image:src">
<meta content="GitHub" property="og:site_name"><meta content="object" property="og:type"><meta content="https://avatars1.githubusercontent.com/u/8312?v=2&amp;s=400" property="og:image"><meta content="sinatra/sinatra" property="og:title"><meta content="https://github.com/sinatra/sinatra" property="og:url"><meta content="sinatra - Classy web-development dressed in a DSL (official / canonical repo)" property="og:description">

    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035/">
    <link rel="xhr-socket" href="https://github.com/_sockets">

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient="">
      <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host"><meta content="collector-cdn.github.com" name="octolytics-script-host"><meta content="github" name="octolytics-app-id"><meta content="0CFA611A:4A6D:37E50D7:53E6F055" name="octolytics-dimension-request_id"><meta content="3121413" name="octolytics-actor-id"><meta content="hophacker" name="octolytics-actor-login"><meta content="0be6417dc71a145fecc5e06f272e884311deff5fc2b747e671ae8d95c53b1dc5" name="octolytics-actor-hash">
    

    
    
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">


    <meta content="authenticity_token" name="csrf-param">
<meta content="olPQXOOx1YXxdbXEqKaQDi5DXRp18awoiYYu7NGhbD4zbTzA4CALjAUZMYZluXfH49JKnnviGY5KXJlgZekzQA==" name="csrf-token">

    <link href="./sinatra sinatra_files/github-552c62186b3c4c8234a6c1e644620db9c279e080.css" media="all" rel="stylesheet" type="text/css">
    <link href="./sinatra sinatra_files/github2-b855c0b37e346d3dac214385acbf7f00a78096db.css" media="all" rel="stylesheet" type="text/css">
    


    <meta http-equiv="x-pjax-version" content="578b163ff171518e5f8a90209edf4732">

      
  <meta name="description" content="sinatra - Classy web-development dressed in a DSL (official / canonical repo)">


  <meta content="8312" name="octolytics-dimension-user_id"><meta content="sinatra" name="octolytics-dimension-user_login"><meta content="106995" name="octolytics-dimension-repository_id"><meta content="sinatra/sinatra" name="octolytics-dimension-repository_nwo"><meta content="true" name="octolytics-dimension-repository_public"><meta content="true" name="octolytics-dimension-repository_is_fork"><meta content="98" name="octolytics-dimension-repository_parent_id"><meta content="bmizerany/sinatra" name="octolytics-dimension-repository_parent_nwo"><meta content="98" name="octolytics-dimension-repository_network_root_id"><meta content="bmizerany/sinatra" name="octolytics-dimension-repository_network_root_nwo">

  <link href="https://github.com/sinatra/sinatra/commits/master.atom" rel="alternate" title="Recent Commits to sinatra:master" type="application/atom+xml">

  <script type="text/javascript" async="" src="./sinatra sinatra_files/api.js"></script><style>[touch-action="none"]{ -ms-touch-action: none; touch-action: none; }[touch-action="pan-x"]{ -ms-touch-action: pan-x; touch-action: pan-x; }[touch-action="pan-y"]{ -ms-touch-action: pan-y; touch-action: pan-y; }[touch-action="scroll"],[touch-action="pan-x pan-y"],[touch-action="pan-y pan-x"]{ -ms-touch-action: pan-x pan-y; touch-action: pan-x pan-y; }</style><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -90px !important;
    width: 180px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style></head>


  <body class="logged_in  env-production linux vis-public fork" cz-shortcut-listen="true">
    <a href="https://github.com/sinatra/sinatra#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      
      


      <div class="header header-logged-in true">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" aria-label="Homepage">
  <span class="mega-octicon octicon-mark-github"></span>
</a>


    
    <a href="https://github.com/notifications" aria-label="You have no unread notifications" class="notification-indicator tooltipped tooltipped-s" data-hotkey="g n">
        <span class="mail-status all-read"></span>
</a>

      <div class="command-bar js-command-bar  in-repository">
          <form accept-charset="UTF-8" action="https://github.com/search" class="command-bar-form" id="top_search_form" method="get">

<div class="commandbar">
  <span class="message"></span>
  <input type="text" data-hotkey="s, /" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off" data-username="hophacker" data-repo="sinatra/sinatra">
  <div class="display hidden"></div>
</div>

    <input type="hidden" name="nwo" value="sinatra/sinatra">

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target" role="button" aria-haspopup="true">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container" aria-hidden="true">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item js-this-repository-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked">
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item js-all-repositories-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global">
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="help tooltipped tooltipped-s" aria-label="Show command bar help">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

</form>
        <ul class="top-nav">
          <li class="explore"><a href="https://github.com/explore">Explore</a></li>
            <li><a href="https://gist.github.com/">Gist</a></li>
            <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://help.github.com/">Help</a></li>
        </ul>
      </div>

    

<ul id="user-links">
  <li>
    <a href="https://github.com/hophacker" class="name">
      <img alt="Jie Feng" data-user="3121413" height="20" src="./sinatra sinatra_files/3121413" width="20"> hophacker
    </a>
  </li>

  <li class="new-menu dropdown-toggle js-menu-container">
    <a href="https://github.com/sinatra/sinatra#" class="js-menu-target tooltipped tooltipped-s" aria-label="Create new...">
      <span class="octicon octicon-plus"></span>
      <span class="dropdown-arrow"></span>
    </a>

    <div class="new-menu-content js-menu-content">
    </div>
  </li>

  <li>
    <a href="https://github.com/settings/profile" id="account_settings" class="tooltipped tooltipped-s" aria-label="Account settings ">
      <span class="octicon octicon-tools"></span>
    </a>
  </li>
  <li>
    <form accept-charset="UTF-8" action="https://github.com/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="1T+YlQwUzb88v7yuelS+D/om8HCInbAJpG8ZoEZJ0QAsxDWPefZQhK9zAyrFSla9Wpaw/AMFRcrWZg2ZYD/Wag=="></div>
      <button class="sign-out-button tooltipped tooltipped-s" aria-label="Sign out">
        <span class="octicon octicon-sign-out"></span>
      </button>
</form>  </li>

</ul>

<div class="js-new-dropdown-contents hidden">
  

<ul class="dropdown-menu">
  <li>
    <a href="https://github.com/new"><span class="octicon octicon-repo"></span> New repository</a>
  </li>
  <li>
    <a href="https://porter.github.com/new"><span class="octicon octicon-move-right"></span> Import repository</a>
  </li>
  <li>
    <a href="https://github.com/organizations/new"><span class="octicon octicon-organization"></span> New organization</a>
  </li>


    <li class="section-title">
      <span title="sinatra/sinatra">This repository</span>
    </li>
      <li>
        <a href="https://github.com/sinatra/sinatra/issues/new"><span class="octicon octicon-issue-opened"></span> New issue</a>
      </li>
</ul>

</div>


    
  </div>
</div>

      

        



      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope="" itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        
<ul class="pagehead-actions">

    <li class="subscription">
      <form accept-charset="UTF-8" action="https://github.com/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="Hyao1PPkSkP/5jrgtszOhGZB5V9h96HyNwxhdWLJdDDP+5z8y5lr+GCTsR08+yjfWlDvWGQRokD11AUizZ9CWA=="></div>  <input id="repository_id" name="repository_id" type="hidden" value="106995">

    <div class="select-menu js-menu-container js-select-menu">
      <a class="social-count js-social-count" href="https://github.com/sinatra/sinatra/watchers">
        329
      </a>
      <a href="https://github.com/sinatra/sinatra/subscription" class="minibutton select-menu-button with-count js-menu-target" role="button" tabindex="0" aria-haspopup="true">
        <span class="js-select-button">
          <span class="octicon octicon-eye"></span>
          Watch
        </span>
      </a>

      <div class="select-menu-modal-holder">
        <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
            <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
          </div> <!-- /.select-menu-header -->

          <div class="select-menu-list js-navigation-container" role="menu">

            <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input checked="checked" id="do_included" name="do" type="radio" value="included">
                <h4>Not watching</h4>
                <span class="description">Be notified when participating or @mentioned.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye"></span>
                  Watch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_subscribed" name="do" type="radio" value="subscribed">
                <h4>Watching</h4>
                <span class="description">Be notified of all conversations.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye"></span>
                  Unwatch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_ignore" name="do" type="radio" value="ignore">
                <h4>Ignoring</h4>
                <span class="description">Never be notified.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-mute"></span>
                  Stop ignoring
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

          </div> <!-- /.select-menu-list -->

        </div> <!-- /.select-menu-modal -->
      </div> <!-- /.select-menu-modal-holder -->
    </div> <!-- /.select-menu -->

</form>
    </li>

  <li>
    

  <div class="js-toggler-container js-social-container starring-container ">

    <form accept-charset="UTF-8" action="https://github.com/sinatra/sinatra/unstar" class="js-toggler-form starred js-unstar-button" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="LDF1zmPNprqsMV33GbNxvJfUvrFkUNyHc2B5qBzEGcytWYdJh08WBZtaZqOHtUR6MkuuSH36ITel/uh/M5lirw=="></div>
      <button class="minibutton with-count js-toggler-target star-button" aria-label="Unstar this repository" title="Unstar sinatra/sinatra">
        <span class="octicon octicon-star"></span>
        Unstar
      </button>
        <a class="social-count js-social-count" href="https://github.com/sinatra/sinatra/stargazers">
          6,136
        </a>
</form>
    <form accept-charset="UTF-8" action="https://github.com/sinatra/sinatra/star" class="js-toggler-form unstarred js-star-button" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="ypL0Qbtg6A2uXcwWr42Me8psI0Zlj/DLevdHXHg0htAi4qt2E6enw4mPU90Dhg5okFwummkNe5FGtiIKJaN9IA=="></div>
      <button class="minibutton with-count js-toggler-target star-button" aria-label="Star this repository" title="Star sinatra/sinatra">
        <span class="octicon octicon-star"></span>
        Star
      </button>
        <a class="social-count js-social-count" href="https://github.com/sinatra/sinatra/stargazers">
          6,136
        </a>
</form>  </div>

  </li>


        <li>
          <a href="https://github.com/sinatra/sinatra/fork" class="minibutton with-count js-toggler-target fork-button lighter tooltipped-n" title="Fork your own copy of sinatra/sinatra to your account" aria-label="Fork your own copy of sinatra/sinatra to your account" rel="nofollow" data-method="post">
            <span class="octicon octicon-repo-forked"></span>
            Fork
          </a>
          <a href="https://github.com/sinatra/sinatra/network" class="social-count">1,064</a>
        </li>

</ul>

        <h1 itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="mega-octicon octicon-repo-forked"></span>
          <span class="author"><a href="https://github.com/sinatra" class="url fn" itemprop="url" rel="author"><span itemprop="title">sinatra</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="https://github.com/sinatra/sinatra" class="js-current-repository js-repo-home-link">sinatra</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
          </span>

            <span class="fork-flag">
              <span class="text">forked from <a href="https://github.com/bmizerany/sinatra">bmizerany/sinatra</a></span>
            </span>
        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline with-full-navigation">
        <div class="repository-sidebar clearfix">
            

<div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders" data-issue-count-url="/sinatra/sinatra/issues/counts">
  <div class="sunken-menu-contents">
    <ul class="sunken-menu-group">
      <li class="tooltipped tooltipped-w" aria-label="Code">
        <a href="https://github.com/sinatra/sinatra" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /sinatra/sinatra">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="" class="mini-loader" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
</a>      </li>

        <li class="tooltipped tooltipped-w" aria-label="Issues">
          <a href="https://github.com/sinatra/sinatra/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /sinatra/sinatra/issues">
            <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
            <span class="counter">16</span>

            <img alt="" class="mini-loader" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
</a>        </li>

      <li class="tooltipped tooltipped-w" aria-label="Pull Requests">
        <a href="https://github.com/sinatra/sinatra/pulls" aria-label="Pull Requests" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-hotkey="g p" data-selected-links="repo_pulls /sinatra/sinatra/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class="counter">18</span>

            <img alt="" class="mini-loader" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
</a>      </li>


    </ul>
    <div class="sunken-menu-separator"></div>
    <ul class="sunken-menu-group">

      <li class="tooltipped tooltipped-w" aria-label="Pulse">
        <a href="https://github.com/sinatra/sinatra/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="pulse /sinatra/sinatra/pulse">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="" class="mini-loader" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
</a>      </li>

      <li class="tooltipped tooltipped-w" aria-label="Graphs">
        <a href="https://github.com/sinatra/sinatra/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="repo_graphs repo_contributors /sinatra/sinatra/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="" class="mini-loader" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
</a>      </li>
    </ul>


  </div>
</div>

              <div class="only-with-full-nav">
                

  

<div class="clone-url open" data-protocol-type="http" data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="input-group">
    <input type="text" class="input-mini input-monospace js-url-field" value="https://github.com/sinatra/sinatra.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://github.com/sinatra/sinatra.git" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  

<div class="clone-url " data-protocol-type="ssh" data-url="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone">
  <h3><strong>SSH</strong> clone URL</h3>
  <div class="input-group">
    <input type="text" class="input-mini input-monospace js-url-field" value="git@github.com:sinatra/sinatra.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="git@github.com:sinatra/sinatra.git" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  

<div class="clone-url " data-protocol-type="subversion" data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><strong>Subversion</strong> checkout URL</h3>
  <div class="input-group">
    <input type="text" class="input-mini input-monospace js-url-field" value="https://github.com/sinatra/sinatra" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://github.com/sinatra/sinatra" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="https://github.com/sinatra/sinatra#" class="js-clone-selector" data-protocol="http">HTTPS</a>,
      <a href="https://github.com/sinatra/sinatra#" class="js-clone-selector" data-protocol="ssh">SSH</a>,
      or <a href="https://github.com/sinatra/sinatra#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</p>



                <a href="https://github.com/sinatra/sinatra/archive/master.zip" class="minibutton sidebar-button" aria-label="Download sinatra/sinatra as a zip file" title="Download sinatra/sinatra as a zip file" rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container="">
          

<span id="js-show-full-navigation"></span>

<div class="repository-meta js-details-container ">
    <div class="repository-description">
      <p>Classy web-development dressed in a DSL (official / canonical repo)</p>
    </div>

    <div class="repository-website">
      <p><a href="http://www.sinatrarb.com/" rel="nofollow">http://www.sinatrarb.com/</a></p>
    </div>


</div>

<div class="capped-box overall-summary ">

  <div class="stats-switcher-viewport js-stats-switcher-viewport">
    <div class="stats-switcher-wrapper">
    <ul class="numbers-summary">
      <li class="commits">
        <a data-pjax="" href="https://github.com/sinatra/sinatra/commits/master">
            <span class="num">
              <span class="octicon octicon-history"></span>
              2,605
            </span>
            commits
        </a>
      </li>
      <li>
        <a data-pjax="" href="https://github.com/sinatra/sinatra/branches">
          <span class="num">
            <span class="octicon octicon-git-branch"></span>
            17
          </span>
          branches
        </a>
      </li>

      <li>
        <a data-pjax="" href="https://github.com/sinatra/sinatra/releases">
          <span class="num">
            <span class="octicon octicon-tag"></span>
            113
          </span>
          releases
        </a>
      </li>

      <li>
        
  <a href="https://github.com/sinatra/sinatra/graphs/contributors">
    <span class="num">
      <span class="octicon octicon-organization"></span>
      214
    </span>
    contributors
  </a>
      </li>
    </ul>

      <div class="repository-lang-stats">
        <ol class="repository-lang-stats-numbers">
          <li>
              <a href="https://github.com/sinatra/sinatra/search?l=ruby">
                <span class="color-block language-color" style="background-color:#701516;"></span>
                <span class="lang">Ruby</span>
                <span class="percent">99.9%</span>
              </a>
          </li>
          <li>
              <span class="other">
                <span data-lang="Other" class="color-block language-color"></span>
                <span class="lang">Other</span>
                <span class="percent">0.1%</span>
              </span>
          </li>
        </ol>
      </div>
    </div>
  </div>

</div>

  <div class="tooltipped tooltipped-s" aria-label="Show language statistics">
    <a href="https://github.com/sinatra/sinatra#" class="repository-lang-stats-graph js-toggle-lang-stats" style="background-color:#ccc">
  <span class="language-color" style="width:99.9%; background-color:#701516;" itemprop="keywords">Ruby</span><span class="language-color" style="width:0.1%; background-color:#ccc;" itemprop="keywords">Other</span>
    </a>
  </div>




<div class="file-navigation in-mid-page">
  <a href="https://github.com/sinatra/sinatra/find/master" class="js-show-file-finder minibutton empty-icon tooltipped tooltipped-s right" data-pjax="" data-hotkey="t" aria-label="Quickly jump between files">
    <span class="octicon octicon-list-unordered"></span>
  </a>
    <a href="https://github.com/sinatra/sinatra/compare" aria-label="Compare, review, create a pull request" class="minibutton compact primary tooltipped tooltipped-s" data-pjax="">
      <span class="octicon octicon-git-compare"></span>
    </a>

  

<div class="select-menu js-menu-container js-select-menu">
  <span class="minibutton select-menu-button js-menu-target css-truncate" data-hotkey="w" data-master-branch="master" data-ref="master" title="master" role="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax="" aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
      </div> <!-- /.select-menu-header -->

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="https://github.com/sinatra/sinatra#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="https://github.com/sinatra/sinatra#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div><!-- /.select-menu-tabs -->
      </div><!-- /.select-menu-filters -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.3.x" data-name="0.3.x" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.3.x">0.3.x</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.x" data-name="0.9.x" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.x">0.9.x</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.0.x" data-name="1.0.x" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.0.x">1.0.x</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.x" data-name="1.1.x" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.x">1.1.x</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.x" data-name="1.2.x" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.x">1.2.x</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.x" data-name="1.3.x" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.x">1.3.x</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/edge-dependencies" data-name="edge-dependencies" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="edge-dependencies">edge-dependencies</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/extend-main" data-name="extend-main" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="extend-main">extend-main</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item selected">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/master" data-name="master" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="master">master</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/mizuno" data-name="mizuno" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="mizuno">mizuno</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/multi-verb" data-name="multi-verb" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="multi-verb">multi-verb</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/performance" data-name="performance" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="performance">performance</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/prerelease" data-name="prerelease" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="prerelease">prerelease</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/stylus" data-name="stylus" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="stylus">stylus</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/toc" data-name="toc" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="toc">toc</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/trinidad" data-name="trinidad" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="trinidad">trinidad</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/yard" data-name="yard" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="yard">yard</a>
            </div> <!-- /.select-menu-item -->
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.5" data-name="v1.4.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.5">v1.4.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.4" data-name="v1.4.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.4">v1.4.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.3" data-name="v1.4.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.3">v1.4.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.2" data-name="v1.4.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.2">v1.4.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.1" data-name="v1.4.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.1">v1.4.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.0.d" data-name="v1.4.0.d" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.0.d">v1.4.0.d</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.0.c" data-name="v1.4.0.c" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.0.c">v1.4.0.c</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.0.b" data-name="v1.4.0.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.0.b">v1.4.0.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.0.a" data-name="v1.4.0.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.0.a">v1.4.0.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.4.0" data-name="v1.4.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.4.0">v1.4.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.6" data-name="v1.3.6" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.6">v1.3.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.5" data-name="v1.3.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.5">v1.3.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.4" data-name="v1.3.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.4">v1.3.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.3" data-name="v1.3.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.3">v1.3.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.2" data-name="v1.3.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.2">v1.3.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.1" data-name="v1.3.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.1">v1.3.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.g" data-name="v1.3.0.g" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.g">v1.3.0.g</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.f" data-name="v1.3.0.f" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.f">v1.3.0.f</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.e" data-name="v1.3.0.e" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.e">v1.3.0.e</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.d" data-name="v1.3.0.d" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.d">v1.3.0.d</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.c" data-name="v1.3.0.c" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.c">v1.3.0.c</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.b" data-name="v1.3.0.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.b">v1.3.0.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0.a" data-name="v1.3.0.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0.a">v1.3.0.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.3.0" data-name="v1.3.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.3.0">v1.3.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.9" data-name="v1.2.9" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.9">v1.2.9</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.8" data-name="v1.2.8" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.8">v1.2.8</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.7" data-name="v1.2.7" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.7">v1.2.7</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.6" data-name="v1.2.6" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.6">v1.2.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.5" data-name="v1.2.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.5">v1.2.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.4" data-name="v1.2.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.4">v1.2.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.3" data-name="v1.2.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.3">v1.2.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.2" data-name="v1.2.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.2">v1.2.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.1" data-name="v1.2.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.1">v1.2.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.2.0" data-name="v1.2.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.2.0">v1.2.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.1.4" data-name="v1.1.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.1.4">v1.1.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.1.3" data-name="v1.1.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.1.3">v1.1.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.1.2" data-name="v1.1.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.1.2">v1.1.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.1.1" data-name="v1.1.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.1.1">v1.1.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.1.0" data-name="v1.1.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.1.0">v1.1.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/v1.0.0" data-name="v1.0.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="v1.0.0">v1.0.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/semver" data-name="semver" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="semver">semver</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/filter_pattern" data-name="filter_pattern" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="filter_pattern">filter_pattern</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.3" data-name="1.4.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.3">1.4.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.2" data-name="1.4.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.2">1.4.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.1" data-name="1.4.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.1">1.4.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.0.d" data-name="1.4.0.d" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.0.d">1.4.0.d</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.0.c" data-name="1.4.0.c" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.0.c">1.4.0.c</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.0.b" data-name="1.4.0.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.0.b">1.4.0.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.0.a" data-name="1.4.0.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.0.a">1.4.0.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.4.0" data-name="1.4.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.4.0">1.4.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.6" data-name="1.3.6" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.6">1.3.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.5" data-name="1.3.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.5">1.3.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.4" data-name="1.3.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.4">1.3.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.3" data-name="1.3.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.3">1.3.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.2" data-name="1.3.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.2">1.3.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.1" data-name="1.3.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.1">1.3.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.g" data-name="1.3.0.g" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.g">1.3.0.g</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.f" data-name="1.3.0.f" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.f">1.3.0.f</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.e" data-name="1.3.0.e" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.e">1.3.0.e</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.d" data-name="1.3.0.d" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.d">1.3.0.d</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.c" data-name="1.3.0.c" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.c">1.3.0.c</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.b" data-name="1.3.0.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.b">1.3.0.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0.a" data-name="1.3.0.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0.a">1.3.0.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.3.0" data-name="1.3.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.3.0">1.3.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.9" data-name="1.2.9" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.9">1.2.9</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.8" data-name="1.2.8" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.8">1.2.8</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.7" data-name="1.2.7" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.7">1.2.7</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.6" data-name="1.2.6" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.6">1.2.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.5" data-name="1.2.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.5">1.2.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.4" data-name="1.2.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.4">1.2.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.3" data-name="1.2.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.3">1.2.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.2" data-name="1.2.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.2">1.2.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.1" data-name="1.2.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.1">1.2.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.0.d" data-name="1.2.0.d" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.0.d">1.2.0.d</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.0.c" data-name="1.2.0.c" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.0.c">1.2.0.c</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.0.b" data-name="1.2.0.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.0.b">1.2.0.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.0.a" data-name="1.2.0.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.0.a">1.2.0.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.2.0" data-name="1.2.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.2.0">1.2.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.b" data-name="1.1.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.b">1.1.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.a" data-name="1.1.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.a">1.1.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.4" data-name="1.1.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.4">1.1.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.3" data-name="1.1.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.3">1.1.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.2" data-name="1.1.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.2">1.1.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.1" data-name="1.1.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.1">1.1.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.1.0" data-name="1.1.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.1.0">1.1.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.0.b" data-name="1.0.b" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.0.b">1.0.b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.0.a" data-name="1.0.a" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.0.a">1.0.a</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/1.0" data-name="1.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="1.0">1.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.6" data-name="0.9.6" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.6">0.9.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.5" data-name="0.9.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.5">0.9.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.4" data-name="0.9.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.4">0.9.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.3" data-name="0.9.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.3">0.9.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.2" data-name="0.9.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.2">0.9.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.1.1" data-name="0.9.1.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.1.1">0.9.1.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.1" data-name="0.9.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.1">0.9.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.0.5" data-name="0.9.0.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.0.5">0.9.0.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.0.4" data-name="0.9.0.4" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.0.4">0.9.0.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.0.3" data-name="0.9.0.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.0.3">0.9.0.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.0.2" data-name="0.9.0.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.0.2">0.9.0.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.0.1" data-name="0.9.0.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.0.1">0.9.0.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.9.0" data-name="0.9.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.9.0">0.9.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.3.3" data-name="0.3.3" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.3.3">0.3.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.3.2" data-name="0.3.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.3.2">0.3.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.3.1" data-name="0.3.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.3.1">0.3.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.3.0" data-name="0.3.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.3.0">0.3.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.2.2" data-name="0.2.2" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.2.2">0.2.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.2.1" data-name="0.2.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.2.1">0.2.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.2.0" data-name="0.2.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.2.0">0.2.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.1.7" data-name="0.1.7" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.1.7">0.1.7</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.1.6" data-name="0.1.6" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.1.6">0.1.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.1.5" data-name="0.1.5" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.1.5">0.1.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.1.0" data-name="0.1.0" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.1.0">0.1.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="https://github.com/sinatra/sinatra/tree/0.0.1" data-name="0.0.1" data-skip-pjax="true" rel="nofollow" class="js-navigation-open select-menu-item-text css-truncate-target" title="0.0.1">0.0.1</a>
            </div> <!-- /.select-menu-item -->
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

    </div> <!-- /.select-menu-modal -->
  </div> <!-- /.select-menu-modal-holder -->
</div> <!-- /.select-menu -->



  <div class="breadcrumb"><span class="repo-root js-repo-root"><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://github.com/sinatra/sinatra" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">sinatra</span></a></span></span><span class="separator"> / </span><form action="https://github.com/sinatra/sinatra/new/master" aria-label="Fork this project and create a new file" class="js-new-blob-form tooltipped tooltipped-e new-file-link" method="post"><span aria-label="Fork this project and create a new file" class="js-new-blob-submit octicon octicon-plus" data-test-id="create-new-git-file" role="button"></span></form></div>
</div>



    <div class="branch-infobar clearfix">
      <p>
        This branch is 1905 commits ahead, 1 commit behind bmizerany:master
      </p>

      <ul class="lightweight-actions">
        <li>
            <a href="https://github.com/sinatra/sinatra/pull/909">
              <span class="octicon octicon-git-pull-request"></span>
              #909
            </a>
        </li>
        <li>
          <a href="https://github.com/sinatra/sinatra/compare">
            <span class="octicon octicon-diff"></span>
            Compare
          </a>
        </li>
      </ul>

    </div>

  
  <div class="commit commit-tease js-details-container">
    <p class="commit-title ">
        <a href="https://github.com/sinatra/sinatra/commit/a87f433a07510825b3791ffea0c6e7b62402fcd2" class="message" data-pjax="true" title="Merge pull request #910 from ausmarton/readme-symbols-to-strings

Prefer strings over symbols in Portuguese, Spanish and German README">Merge pull request</a> <a href="https://github.com/sinatra/sinatra/pull/910" class="issue-link" title="Prefer strings over symbols in Portuguese, Spanish and German README">#910</a> <a href="https://github.com/sinatra/sinatra/commit/a87f433a07510825b3791ffea0c6e7b62402fcd2" class="message" data-pjax="true" title="Merge pull request #910 from ausmarton/readme-symbols-to-strings

Prefer strings over symbols in Portuguese, Spanish and German README">from ausmarton/readme-symbols-to-strings</a>
        <span class="hidden-text-expander inline"><a href="https://github.com/sinatra/sinatra#" class="js-details-target">…</a></span>
    </p>
      <div class="commit-desc"><pre>Prefer strings over symbols in Portuguese, Spanish and German README</pre></div>
    <div class="commit-meta">
      <button aria-label="Copy SHA" class="js-zeroclipboard zeroclipboard-link" data-clipboard-text="a87f433a07510825b3791ffea0c6e7b62402fcd2" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
      <a href="https://github.com/sinatra/sinatra/commit/a87f433a07510825b3791ffea0c6e7b62402fcd2" class="sha-block" data-pjax="">latest commit <span class="sha">a87f433a07</span></a>

      <div class="authorship">
        <img alt="Katrina Owen" class="gravatar" data-user="276834" height="20" src="./sinatra sinatra_files/276834" width="20">
        <span class="author-name"><a href="https://github.com/kytrinyx" rel="contributor">kytrinyx</a></span>
        authored <time class="updated" datetime="2014-08-04T18:44:30-07:00" is="relative-time" title="Aug 4, 2014 6:44 PM PDT">5 days ago</time>

      </div>
    </div>
  </div>

  <div class="file-wrap">
    <table class="files" data-pjax="">

      
<tbody class="" data-url="/sinatra/sinatra/file-list/master" data-deferred-content-error="Failed to load latest commit information.">

    <tr>
      <td class="icon">
        <span class="octicon octicon-file-directory"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/tree/master/examples" class="js-directory-link" id="bfebe34154a0dfd9fc7b447fc9ed74e9-eea7f51e985ca9a9323b5dd5b4eb79247df30b15" title="examples">examples</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/bfabbe7861f4db317b675873f38cc5e97e84655a" class="message" data-pjax="true" title="move the form tag before script tag

currently this demo is not working, this is because when $(&quot;form&quot;) bind &quot;submit&quot; event, the form tag is not in DOM yet. Need to move form before the binding.">move the form tag before script tag</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2013-03-08T01:56:53Z" is="time-ago" title="Mar 7, 2013 5:56 PM PST">a year ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-directory"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/tree/master/lib" class="js-directory-link" id="e8acc63b1e238f3255c900eed37254b8-67ce948a19dbb72f26e5e5954ccf073d3f58baa4" title="lib">lib</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/e8ea7709534b01b0325903421e7f1ad0d25c0d19" class="message" data-pjax="true" title="Make Sinatra compatible with Tilt 2">Make Sinatra compatible with Tilt 2</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-22T11:15:34Z" is="time-ago" title="Jul 22, 2014 4:15 AM PDT">19 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-directory"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/tree/master/test" class="js-directory-link" id="098f6bcd4621d373cade4e832627b4f6-8829308176b1006563673423401fcb29b4125263" title="test">test</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/e94227e9788156eaba64bd0c03d7484fda309cd7" class="message" data-pjax="true" title="Drop a newline for Ruby 1.8 compatibility">Drop a newline for Ruby 1.8 compatibility</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-22T11:24:00Z" is="time-ago" title="Jul 22, 2014 4:24 AM PDT">19 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/.gitignore" class="js-directory-link" id="a084b794bc0759e7a6b77810e01874f2-2b6c41c93b632e2aa858ba836a3f36eb48693ed0" title=".gitignore">.gitignore</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/459369eb66224836f72e21bbece58c007f3422fa" class="message" data-pjax="true" title="Changed the README from .rdoc to .md

Did this manually so I think I got most of the conversion right.

Fixes #607

Squashed commit of the following:

commit e0cbf22b35e08aba053d19674ed6295bd6b71ced
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Sun Jan 20 06:16:26 2013 +0530

    Removed the &lt;li&gt; tag for the markdown template list

commit f999620eac07b0b970b7b2ea42d4386f1dc83097
Merge: 95ab367 eed4f71
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Sun Jan 20 06:06:39 2013 +0530

    Merge branch &#39;master&#39; of git://github.com/sinatra/sinatra

commit 95ab3673ece8996991fef505e3a3556f8c06e49f
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Fri Jan 11 07:53:31 2013 +0530

    Fixed a typo

commit 90a335049b711ee7fc1915616cf13bd926539ee6
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Fri Jan 11 07:44:22 2013 +0530

    &lt;pre&gt; tags break the whole layout. Replacing them with &lt;tt&gt; tags

commit e47cfff420c8e07b8b04c1ac4cab85ba9b78ca53
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Fri Jan 11 07:18:10 2013 +0530

    &lt;pre&gt; tags break the whole layout. Testing out &lt;tt&gt; tags

commit 40f59da1f4d52fda5018bf91a9a317f52113a116
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Fri Jan 11 06:59:02 2013 +0530

    Added the html definition lists

commit 63a18c478c61d3c88ecd67a42fcca001deff8ea2
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Fri Jan 11 03:39:57 2013 +0530

    Testing out some HTML in Markdown

commit 8d9442be525e909acd1f5b5c1bd4972c8bf810b2
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Thu Jan 10 01:14:16 2013 +0530

    Trying out code blocks instead of Rdoc tables

commit 766c80f1af854e03161192fadec3edf6e5093eaa
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Thu Jan 10 00:40:48 2013 +0530

    Fixed some more errors.

commit 2e9dc82a5a246007a4976db95b4608212c50841b
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Thu Jan 10 00:39:25 2013 +0530

    Fixed some more errors.

commit f12333bcd3515f63b3c998da98cf1e8b68bc01f9
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Thu Jan 10 00:33:47 2013 +0530

    Fixed a typo and finished the conversion.

commit 72830645c0dc235f62ccf1f1ffc8d8deaf39519d
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Thu Jan 10 00:31:52 2013 +0530

    First walkthrough done.

commit a43f41fab945ac9dece1f7ee95a29526c6d7c25d
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 22:32:34 2013 +0530

    First walkthrough done.

commit eb73fe095f191dc7c7bae2acdbfce436ba21f1e3
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 22:24:59 2013 +0530

    testing blockquote

commit 3cb91c48286f308de144b763e51aebdb02f034ad
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 22:19:21 2013 +0530

    testing blockquote

commit ae9119393e7d463c2916074ff47e5af0b316ec82
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 21:49:19 2013 +0530

    testing blockquote

commit 64a659c731036474435eb57349afe17bfde7a801
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 21:48:02 2013 +0530

    testing blockquote

commit 8d718ef1aa1b558cf052768b0ced13cf102d0639
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 21:42:17 2013 +0530

    testing blockquote

commit 0b16fc50d868f77f0ecaeeed9177dcf412d7d5d3
Author: Kashyap &lt;kashyap.kmbc@gmail.com&gt;
Date:   Wed Jan 9 21:37:55 2013 +0530

    rdoc to md conversion in progress

Signed-off-by: Konstantin Haase &lt;konstantin.mailinglists@googlemail.com&gt;">Changed the README from .rdoc to .md</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2013-01-20T11:17:56Z" is="time-ago" title="Jan 20, 2013 3:17 AM PST">2 years ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/.travis.yml" class="js-directory-link" id="354f30a63fb0907d4ad57269548329e3-0f2451d69d421063afff8d4bd9b168eda2be044d" title=".travis.yml">.travis.yml</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/0ed4de4cbe77dd29b68b3eab323caf43110d92f0" class="message" data-pjax="true" title="Update .travis.yml w/rbx-2">Update .travis.yml w/rbx-2</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-06-17T14:04:20Z" is="time-ago" title="Jun 17, 2014 7:04 AM PDT">2 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/.yardopts" class="js-directory-link" id="5808b886486adcc2f1820a316cd5652d-60e00e9a35fb3311096f71da1f0f3b6ba7a29cf6" title=".yardopts">.yardopts</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/40e227be11844d4f8dc8bd80bf6d46abfb38d171" class="message" data-pjax="true" title="Update .yardopts to markdown

Update .yardopts file to reflect new use of markdown in docs.">Update .yardopts to markdown</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2013-09-12T20:21:39Z" is="time-ago" title="Sep 12, 2013 1:21 PM PDT">11 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/AUTHORS.md" class="js-directory-link" id="a8b2df7fd69554249528b6ce108f533b-c9c9c9f5c82bfd95c755dac25b9471b1a619af86" title="AUTHORS.md">AUTHORS.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/ae00f7b083fd506f1a2a440a3c2778d799eb2fbf" class="message" data-pjax="true" title="update authors file">update authors file</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-06-05T18:11:56Z" is="time-ago" title="Jun 5, 2014 11:11 AM PDT">2 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/CHANGES" class="js-directory-link" id="e4eb329834da3d36278b1b7d943b3bc9-bb0160f76ce3dcd7ecfde431c62ce727e9c58043" title="CHANGES">CHANGES</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/57aabed8896ae8281d5761f1239cc62eed7a1073" class="message" data-pjax="true" title="update changes">update changes</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-04-08T15:19:13Z" is="time-ago" title="Apr 8, 2014 8:19 AM PDT">4 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/Gemfile" class="js-directory-link" id="8b7db4d5cc4b8f6dc8feb7030baa2478-7360cd6b138bd32153c4108097a8f7732e766a91" title="Gemfile">Gemfile</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/a00d35b23951785442e0bbf136558f119b0dbb05" class="message" data-pjax="true" title="Use :github tag in Gemfile.">Use :github tag in Gemfile.</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-06-21T10:09:15Z" is="time-ago" title="Jun 21, 2014 3:09 AM PDT">2 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/LICENSE" class="js-directory-link" id="9879d6db96fd29134fc802214163b95a-9cd6fa5b93f3b1df0378fbfb2ca0d85b20294d59" title="LICENSE">LICENSE</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/bfbfcdae92072073805823eb4b37f9fb106474d0" class="message" data-pjax="true" title="update license">update license</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-02-18T18:45:12Z" is="time-ago" title="Feb 18, 2014 10:45 AM PST">6 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.de.md" class="js-directory-link" id="4b051f86d68672b5807c8a27b66240fb-e01b09027bad416921e42f2a4511097e6eb15ce8" title="README.de.md">README.de.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/370fd0d9af587fad3286869d10e3637d61a63d5a" class="message" data-pjax="true" title="Prefer strings over symbols in German README">Prefer strings over symbols in German README</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-08-04T22:51:59Z" is="time-ago" title="Aug 4, 2014 3:51 PM PDT">5 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.es.md" class="js-directory-link" id="793029c5b5a688c46f1b95e979e6a4d2-b42567dfb1a253edf171665dd5e4444af18c1417" title="README.es.md">README.es.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/b856b19d7c9075c1e7e46d702327831f25fb44dc" class="message" data-pjax="true" title="Prefer strings over symbols in Portuguese (PT and BR) and Spanish README">Prefer strings over symbols in Portuguese (PT and BR) and Spanish README</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-08-04T18:16:49Z" is="time-ago" title="Aug 4, 2014 11:16 AM PDT">5 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.fr.md" class="js-directory-link" id="c2edb7d4543f7622a1f45caf97511011-cff64604138615bd5510ea9b81d7320095de9db6" title="README.fr.md">README.fr.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/fb7d00b3a26f5da9417f47e1b9ead72e13434e05" class="message" data-pjax="true" title="Prefer strings over symbols in French README">Prefer strings over symbols in French README</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-22T06:03:47Z" is="time-ago" title="Jul 21, 2014 11:03 PM PDT">19 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.hu.md" class="js-directory-link" id="c27250c2f15ff1738aa5f78f9b99d5b5-a2ec6e98b3910f5088bb408f708326ca0be4251c" title="README.hu.md">README.hu.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/434b9847f2a8a1aea602eb323d01c13f91880bb1" class="message" data-pjax="true" title="Fix typo in README.hu.md

&#39;mgejegyezni&#39; -&gt; &#39;megjegyezni&#39;">Fix typo in README.hu.md</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-05-11T11:42:02Z" is="time-ago" title="May 11, 2014 4:42 AM PDT">3 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.ja.md" class="js-directory-link" id="5b3275674ac26beb783a8abc3aa82ff2-aed8229deb6d6e4db036f3734e7f6d889a7aa88c" title="README.ja.md">README.ja.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/c890165eec2c09c1e1112b1ca7a8880e14c991c1" class="message" data-pjax="true" title="Fix header level

- Reported at sinatra/sinatra.github.com#137">Fix header level</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-05-08T08:26:37Z" is="time-ago" title="May 8, 2014 1:26 AM PDT">3 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.ko.md" class="js-directory-link" id="00dcfd2983c6b04da339c95a4956a2fb-06702d384dd5bb64c55aad8b2cfcb68da79affe1" title="README.ko.md">README.ko.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/af1b33433f7c8b6f3eecc594f6ddda73f9aa8a09" class="message" data-pjax="true" title="Update Korean README to c5bbb94">Update Korean README to</a> <a href="https://github.com/sinatra/sinatra/commit/c5bbb94" class="commit-link"><tt>c5bbb94</tt></a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-04T04:55:18Z" is="time-ago" title="Jul 3, 2014 9:55 PM PDT">a month ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.md" class="js-directory-link" id="04c6e90faac2675aa89e2176d2eec7d8-5edefa317ba0bc8b30506ba81b657039565f198a" title="README.md">README.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/bd86848ea3f0ca8d5de3bcea817dc7ece6366d80" class="message" data-pjax="true" title="Convert params hash symbols to strings - English

* The params hash, although it supports indifferent access, it is
  advisable to use strings for fetching the keys.

  Refer https://github.com/sinatra/sinatra/pull/900 for further
  information.">Convert params hash symbols to strings - English</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-21T14:49:18Z" is="time-ago" title="Jul 21, 2014 7:49 AM PDT">20 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.pt-br.md" class="js-directory-link" id="3af121d49a8ca85d6a2f60c024ca3d81-dc3490619e66193968dfe6e0b137ce759f6914b5" title="README.pt-br.md">README.pt-br.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/b856b19d7c9075c1e7e46d702327831f25fb44dc" class="message" data-pjax="true" title="Prefer strings over symbols in Portuguese (PT and BR) and Spanish README">Prefer strings over symbols in Portuguese (PT and BR) and Spanish README</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-08-04T18:16:49Z" is="time-ago" title="Aug 4, 2014 11:16 AM PDT">5 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.pt-pt.md" class="js-directory-link" id="d86992495229edcfd5faa41d10ca3e7a-82a9e9ca5e69f3e634d210c1ed23a48120c1b07c" title="README.pt-pt.md">README.pt-pt.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/b856b19d7c9075c1e7e46d702327831f25fb44dc" class="message" data-pjax="true" title="Prefer strings over symbols in Portuguese (PT and BR) and Spanish README">Prefer strings over symbols in Portuguese (PT and BR) and Spanish README</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-08-04T18:16:49Z" is="time-ago" title="Aug 4, 2014 11:16 AM PDT">5 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.ru.md" class="js-directory-link" id="60fbc6462f3dd3bd2ee312c7b30ef156-af7a66c3e33dfcc03fc167e74b297988a981e4c8" title="README.ru.md">README.ru.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/047aefb9e099c2f1afc68e6d2120a39e753b6ae0" class="message" data-pjax="true" title="Remove links to CodeRack

CodeRack is not longer CodeRack, but redirects to Lunar Logic.">Remove links to CodeRack</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-02-24T14:57:22Z" is="time-ago" title="Feb 24, 2014 6:57 AM PST">6 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/README.zh.md" class="js-directory-link" id="41663148512724ff3a1110f439c3889c-b35e8334ac9dd1fa478ba99c67c99a92376b26d6" title="README.zh.md">README.zh.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/9184edf7bc179f0dafc273b5ffc729511184a668" class="message" data-pjax="true" title="进行启动时候绑定参数的说明

-o 参数的说明以及绑定方式。">进行启动时候绑定参数的说明</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-27T03:43:22Z" is="time-ago" title="Jul 26, 2014 8:43 PM PDT">14 days ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/Rakefile" class="js-directory-link" id="52c976fc38ed2b4e3b1192f8a8e24cff-d4a6bf12c62c627be5cce0b29376a7f815979d7d" title="Rakefile">Rakefile</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/f175d8f3f48062806b6e1388592e5bc0c5e661b5" class="message" data-pjax="true" title="Reafactor creation hash with default value in Rakefile

Pass default value as parameter for initializer rather than passing proc">Reafactor creation hash with default value in Rakefile</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-01-18T22:48:37Z" is="time-ago" title="Jan 18, 2014 2:48 PM PST">7 months ago</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="./sinatra sinatra_files/octocat-spinner-32.gif" width="16">
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="https://github.com/sinatra/sinatra/blob/master/sinatra.gemspec" class="js-directory-link" id="a3ca27ebb62bd740419b3c8a7573e736-26d2e25f09387a3ab42c47dba1f137e00c773850" title="sinatra.gemspec">sinatra.gemspec</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="https://github.com/sinatra/sinatra/commit/e8ea7709534b01b0325903421e7f1ad0d25c0d19" class="message" data-pjax="true" title="Make Sinatra compatible with Tilt 2">Make Sinatra compatible with Tilt 2</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-22T11:15:34Z" is="time-ago" title="Jul 22, 2014 4:15 AM PDT">19 days ago</time></span>
      </td>
    </tr>
</tbody>

    </table>
  </div>


  <div id="readme" class="boxed-group flush clearfix announce instapaper_body md">
    <h3>
      <span class="octicon octicon-book"></span>
      README.md
    </h3>

    <article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-sinatra" class="anchor" href="https://github.com/sinatra/sinatra#sinatra" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sinatra</h1>

<p>Sinatra is a <a href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a> for
quickly creating web applications in Ruby with minimal effort:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># myapp.rb</span>
<span class="nb">require</span> <span class="s1">'sinatra'</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="s1">'Hello world!'</span>
<span class="k">end</span>
</pre></div>

<p>Install the gem:</p>

<pre lang="shell"><code>gem install sinatra
</code></pre>

<p>And run with:</p>

<pre lang="shell"><code>ruby myapp.rb
</code></pre>

<p>View at: http://localhost:4567</p>

<p>It is recommended to also run <code>gem install thin</code>, which Sinatra will
pick up if available.</p>

<h2>
<a name="user-content-table-of-contents" class="anchor" href="https://github.com/sinatra/sinatra#table-of-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Table of Contents</h2>

<ul class="task-list">
<li>
<a href="https://github.com/sinatra/sinatra#sinatra">Sinatra</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#table-of-contents">Table of Contents</a></li>
<li><a href="./sinatra sinatra_files/sinatra sinatra.html">Routes</a></li>
<li><a href="https://github.com/sinatra/sinatra#conditions">Conditions</a></li>
<li><a href="https://github.com/sinatra/sinatra#return-values">Return Values</a></li>
<li><a href="https://github.com/sinatra/sinatra#custom-route-matchers">Custom Route Matchers</a></li>
<li><a href="https://github.com/sinatra/sinatra#static-files">Static Files</a></li>
<li>
<a href="https://github.com/sinatra/sinatra#views--templates">Views / Templates</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#literal-templates">Literal Templates</a></li>
<li>
<a href="https://github.com/sinatra/sinatra#available-template-languages">Available Template Languages</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#haml-templates">Haml Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#erb-templates">Erb Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#builder-templates">Builder Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#nokogiri-templates">Nokogiri Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#sass-templates">Sass Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#scss-templates">SCSS Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#less-templates">Less Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#liquid-templates">Liquid Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#markdown-templates">Markdown Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#textile-templates">Textile Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#rdoc-templates">RDoc Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#asciidoc-templates">AsciiDoc Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#radius-templates">Radius Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#markaby-templates">Markaby Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#rabl-templates">RABL Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#slim-templates">Slim Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#creole-templates">Creole Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#mediawiki-templates">MediaWiki Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#coffeescript-templates">CoffeeScript Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#stylus-templates">Stylus Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#yajl-templates">Yajl Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#wlang-templates">WLang Templates</a></li>
</ul>
</li>
<li><a href="https://github.com/sinatra/sinatra#accessing-variables-in-templates">Accessing Variables in Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#templates-with-yield-and-nested-layouts">Templates with <code>yield</code> and nested layouts</a></li>
<li><a href="https://github.com/sinatra/sinatra#inline-templates">Inline Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#named-templates">Named Templates</a></li>
<li><a href="https://github.com/sinatra/sinatra#associating-file-extensions">Associating File Extensions</a></li>
<li><a href="https://github.com/sinatra/sinatra#adding-your-own-template-engine">Adding Your Own Template Engine</a></li>
<li><a href="https://github.com/sinatra/sinatra#using-custom-logic-for-template-lookup">Using Custom Logic for Template Lookup</a></li>
</ul>
</li>
<li><a href="https://github.com/sinatra/sinatra#filters">Filters</a></li>
<li>
<a href="https://github.com/sinatra/sinatra#helpers">Helpers</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#using-sessions">Using Sessions</a></li>
<li><a href="https://github.com/sinatra/sinatra#halting">Halting</a></li>
<li><a href="https://github.com/sinatra/sinatra#passing">Passing</a></li>
<li><a href="https://github.com/sinatra/sinatra#triggering-another-route">Triggering Another Route</a></li>
<li><a href="https://github.com/sinatra/sinatra#setting-body-status-code-and-headers">Setting Body, Status Code and Headers</a></li>
<li><a href="https://github.com/sinatra/sinatra#streaming-responses">Streaming Responses</a></li>
<li><a href="https://github.com/sinatra/sinatra#logging">Logging</a></li>
<li><a href="https://github.com/sinatra/sinatra#mime-types">Mime Types</a></li>
<li><a href="https://github.com/sinatra/sinatra#generating-urls">Generating URLs</a></li>
<li><a href="https://github.com/sinatra/sinatra#browser-redirect">Browser Redirect</a></li>
<li><a href="https://github.com/sinatra/sinatra#cache-control">Cache Control</a></li>
<li><a href="https://github.com/sinatra/sinatra#sending-files">Sending Files</a></li>
<li><a href="https://github.com/sinatra/sinatra#accessing-the-request-object">Accessing the Request Object</a></li>
<li><a href="https://github.com/sinatra/sinatra#attachments">Attachments</a></li>
<li><a href="https://github.com/sinatra/sinatra#dealing-with-date-and-time">Dealing with Date and Time</a></li>
<li><a href="https://github.com/sinatra/sinatra#looking-up-template-files">Looking Up Template Files</a></li>
</ul>
</li>
<li>
<a href="https://github.com/sinatra/sinatra#configuration">Configuration</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#configuring-attack-protection">Configuring attack protection</a></li>
<li><a href="https://github.com/sinatra/sinatra#available-settings">Available Settings</a></li>
</ul>
</li>
<li><a href="https://github.com/sinatra/sinatra#environments">Environments</a></li>
<li>
<a href="https://github.com/sinatra/sinatra#error-handling">Error Handling</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#not-found">Not Found</a></li>
<li><a href="https://github.com/sinatra/sinatra#error">Error</a></li>
</ul>
</li>
<li><a href="https://github.com/sinatra/sinatra#rack-middleware">Rack Middleware</a></li>
<li><a href="https://github.com/sinatra/sinatra#testing">Testing</a></li>
<li>
<a href="https://github.com/sinatra/sinatra#sinatrabase---middleware-libraries-and-modular-apps">Sinatra::Base - Middleware, Libraries, and Modular Apps</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#modular-vs-classic-style">Modular vs. Classic Style</a></li>
<li><a href="https://github.com/sinatra/sinatra#serving-a-modular-application">Serving a Modular Application</a></li>
<li><a href="https://github.com/sinatra/sinatra#using-a-classic-style-application-with-a-configru">Using a Classic Style Application with a config.ru</a></li>
<li><a href="https://github.com/sinatra/sinatra#when-to-use-a-configru">When to use a config.ru?</a></li>
<li><a href="https://github.com/sinatra/sinatra#using-sinatra-as-middleware">Using Sinatra as Middleware</a></li>
<li><a href="https://github.com/sinatra/sinatra#dynamic-application-creation">Dynamic Application Creation</a></li>
</ul>
</li>
<li>
<a href="https://github.com/sinatra/sinatra#scopes-and-binding">Scopes and Binding</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#applicationclass-scope">Application/Class Scope</a></li>
<li><a href="https://github.com/sinatra/sinatra#requestinstance-scope">Request/Instance Scope</a></li>
<li><a href="https://github.com/sinatra/sinatra#delegation-scope">Delegation Scope</a></li>
</ul>
</li>
<li><a href="https://github.com/sinatra/sinatra#command-line">Command Line</a></li>
<li><a href="https://github.com/sinatra/sinatra#requirement">Requirement</a></li>
<li>
<a href="https://github.com/sinatra/sinatra#the-bleeding-edge">The Bleeding Edge</a>

<ul class="task-list">
<li><a href="https://github.com/sinatra/sinatra#with-bundler">With Bundler</a></li>
<li><a href="https://github.com/sinatra/sinatra#roll-your-own">Roll Your Own</a></li>
<li><a href="https://github.com/sinatra/sinatra#install-globally">Install Globally</a></li>
</ul>
</li>
<li><a href="https://github.com/sinatra/sinatra#versioning">Versioning</a></li>
<li><a href="https://github.com/sinatra/sinatra#further-reading">Further Reading</a></li>
</ul>
</li>
</ul><h2>
<a name="user-content-routes" class="anchor" href="./sinatra sinatra_files/sinatra sinatra.html" aria-hidden="true"><span class="octicon octicon-link"></span></a>Routes</h2>

<p>In Sinatra, a route is an HTTP method paired with a URL-matching pattern.
Each route is associated with a block:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">show</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">post</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">create</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">put</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">replace</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">patch</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">modify</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">delete</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">annihilate</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">options</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">appease</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">link</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">affiliate</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>

<span class="n">unlink</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span> <span class="n">separate</span> <span class="n">something</span> <span class="o">.</span><span class="n">.</span>
<span class="k">end</span>
</pre></div>

<p>Routes are matched in the order they are defined. The first route that
matches the request is invoked.</p>

<p>Route patterns may include named parameters, accessible via the
<code>params</code> hash:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/hello/:name'</span> <span class="k">do</span>
  <span class="c1"># matches "GET /hello/foo" and "GET /hello/bar"</span>
  <span class="c1"># params['name'] is 'foo' or 'bar'</span>
  <span class="s2">"Hello </span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span><span class="si">}</span><span class="s2">!"</span>
<span class="k">end</span>
</pre></div>

<p>You can also access named parameters via block parameters:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/hello/:name'</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
  <span class="c1"># matches "GET /hello/foo" and "GET /hello/bar"</span>
  <span class="c1"># params['name'] is 'foo' or 'bar'</span>
  <span class="c1"># n stores params['name']</span>
  <span class="s2">"Hello </span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">!"</span>
<span class="k">end</span>
</pre></div>

<p>Route patterns may also include splat (or wildcard) parameters, accessible
via the <code>params['splat']</code> array:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/say/*/to/*'</span> <span class="k">do</span>
  <span class="c1"># matches /say/hello/to/world</span>
  <span class="n">params</span><span class="o">[</span><span class="s1">'splat'</span><span class="o">]</span> <span class="c1"># =&gt; ["hello", "world"]</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/download/*.*'</span> <span class="k">do</span>
  <span class="c1"># matches /download/path/to/file.xml</span>
  <span class="n">params</span><span class="o">[</span><span class="s1">'splat'</span><span class="o">]</span> <span class="c1"># =&gt; ["path/to/file", "xml"]</span>
<span class="k">end</span>
</pre></div>

<p>Or with block parameters:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/download/*.*'</span> <span class="k">do</span> <span class="o">|</span><span class="n">path</span><span class="p">,</span> <span class="n">ext</span><span class="o">|</span>
  <span class="o">[</span><span class="n">path</span><span class="p">,</span> <span class="n">ext</span><span class="o">]</span> <span class="c1"># =&gt; ["path/to/file", "xml"]</span>
<span class="k">end</span>
</pre></div>

<p>Route matching with Regular Expressions:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="sr">%r{/hello/([\w]+)}</span> <span class="k">do</span>
  <span class="s2">"Hello, </span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="s1">'captures'</span><span class="o">].</span><span class="n">first</span><span class="si">}</span><span class="s2">!"</span>
<span class="k">end</span>
</pre></div>

<p>Or with a block parameter:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="sr">%r{/hello/([\w]+)}</span> <span class="k">do</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span>
  <span class="s2">"Hello, </span><span class="si">#{</span><span class="n">c</span><span class="si">}</span><span class="s2">!"</span>
<span class="k">end</span>
</pre></div>

<p>Route patterns may have optional parameters:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/posts.?:format?'</span> <span class="k">do</span>
  <span class="c1"># matches "GET /posts" and any extension "GET /posts.json", "GET /posts.xml" etc.</span>
<span class="k">end</span>
</pre></div>

<p>Routes may also utilize query parameters:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/posts'</span> <span class="k">do</span>
  <span class="c1"># matches "GET /posts?title=foo&amp;author=bar"</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="s1">'title'</span><span class="o">]</span>
  <span class="n">author</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="s1">'author'</span><span class="o">]</span>
  <span class="c1"># uses title and author variables; query is optional to the /posts route</span>
<span class="k">end</span>
</pre></div>

<p>By the way, unless you disable the path traversal attack protection (see below),
the request path might be modified before matching against your routes.</p>

<h2>
<a name="user-content-conditions" class="anchor" href="https://github.com/sinatra/sinatra#conditions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conditions</h2>

<p>Routes may include a variety of matching conditions, such as the user agent:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/foo'</span><span class="p">,</span> <span class="ss">:agent</span> <span class="o">=&gt;</span> <span class="sr">/Songbird (\d\.\d)[\d\/]*?/</span> <span class="k">do</span>
  <span class="s2">"You're using Songbird version </span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="s1">'agent'</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="c1"># Matches non-songbird browsers</span>
<span class="k">end</span>
</pre></div>

<p>Other available conditions are <code>host_name</code> and <code>provides</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span><span class="p">,</span> <span class="ss">:host_name</span> <span class="o">=&gt;</span> <span class="sr">/^admin\./</span> <span class="k">do</span>
  <span class="s2">"Admin Area, Access denied!"</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/'</span><span class="p">,</span> <span class="ss">:provides</span> <span class="o">=&gt;</span> <span class="s1">'html'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="ss">:index</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/'</span><span class="p">,</span> <span class="ss">:provides</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">'rss'</span><span class="p">,</span> <span class="s1">'atom'</span><span class="p">,</span> <span class="s1">'xml'</span><span class="o">]</span> <span class="k">do</span>
  <span class="n">builder</span> <span class="ss">:feed</span>
<span class="k">end</span>
</pre></div>

<p>You can easily define your own conditions:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span><span class="p">(</span><span class="ss">:probability</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">value</span><span class="o">|</span> <span class="n">condition</span> <span class="p">{</span> <span class="nb">rand</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="p">}</span> <span class="p">}</span>

<span class="n">get</span> <span class="s1">'/win_a_car'</span><span class="p">,</span> <span class="ss">:probability</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span> <span class="k">do</span>
  <span class="s2">"You won!"</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/win_a_car'</span> <span class="k">do</span>
  <span class="s2">"Sorry, you lost."</span>
<span class="k">end</span>
</pre></div>

<p>For a condition that takes multiple values use a splat:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span><span class="p">(</span><span class="ss">:auth</span><span class="p">)</span> <span class="k">do</span> <span class="o">|*</span><span class="n">roles</span><span class="o">|</span>   <span class="c1"># &lt;- notice the splat here</span>
  <span class="n">condition</span> <span class="k">do</span>
    <span class="k">unless</span> <span class="n">logged_in?</span> <span class="o">&amp;&amp;</span> <span class="n">roles</span><span class="o">.</span><span class="n">any?</span> <span class="p">{</span><span class="o">|</span><span class="n">role</span><span class="o">|</span> <span class="n">current_user</span><span class="o">.</span><span class="n">in_role?</span> <span class="n">role</span> <span class="p">}</span>
      <span class="n">redirect</span> <span class="s2">"/login/"</span><span class="p">,</span> <span class="mi">303</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s2">"/my/account/"</span><span class="p">,</span> <span class="ss">:auth</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:user</span><span class="p">,</span> <span class="ss">:admin</span><span class="o">]</span> <span class="k">do</span>
  <span class="s2">"Your Account Details"</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s2">"/only/admin/"</span><span class="p">,</span> <span class="ss">:auth</span> <span class="o">=&gt;</span> <span class="ss">:admin</span> <span class="k">do</span>
  <span class="s2">"Only admins are allowed here!"</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="user-content-return-values" class="anchor" href="https://github.com/sinatra/sinatra#return-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Return Values</h2>

<p>The return value of a route block determines at least the response body passed
on to the HTTP client, or at least the next middleware in the Rack stack.
Most commonly, this is a string, as in the above examples. But other values are
also accepted.</p>

<p>You can return any object that would either be a valid Rack response, Rack
body object or HTTP status code:</p>

<ul class="task-list">
<li>An Array with three elements: <code>[status (Fixnum), headers (Hash), response
body (responds to #each)]</code>
</li>
<li>An Array with two elements: <code>[status (Fixnum), response body (responds to
#each)]</code>
</li>
<li>An object that responds to <code>#each</code> and passes nothing but strings to
the given block</li>
<li>A Fixnum representing the status code</li>
</ul><p>That way we can, for instance, easily implement a streaming example:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">Stream</span>
  <span class="k">def</span> <span class="nf">each</span>
    <span class="mi">100</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="k">yield</span> <span class="s2">"</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="no">Stream</span><span class="o">.</span><span class="n">new</span> <span class="p">}</span>
</pre></div>

<p>You can also use the <code>stream</code> helper method (described below) to reduce boiler
plate and embed the streaming logic in the route.</p>

<h2>
<a name="user-content-custom-route-matchers" class="anchor" href="https://github.com/sinatra/sinatra#custom-route-matchers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom Route Matchers</h2>

<p>As shown above, Sinatra ships with built-in support for using String patterns
and regular expressions as route matches. However, it does not stop there. You
can easily define your own matchers:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">AllButPattern</span>
  <span class="no">Match</span> <span class="o">=</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:captures</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">except</span><span class="p">)</span>
    <span class="vi">@except</span>   <span class="o">=</span> <span class="n">except</span>
    <span class="vi">@captures</span> <span class="o">=</span> <span class="no">Match</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
    <span class="vi">@captures</span> <span class="k">unless</span> <span class="vi">@except</span> <span class="o">===</span> <span class="n">str</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">all_but</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
  <span class="no">AllButPattern</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">get</span> <span class="n">all_but</span><span class="p">(</span><span class="s2">"/index"</span><span class="p">)</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</pre></div>

<p>Note that the above example might be over-engineered, as it can also be
expressed as:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="sr">//</span> <span class="k">do</span>
  <span class="n">pass</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">path_info</span> <span class="o">==</span> <span class="s2">"/index"</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</pre></div>

<p>Or, using negative look ahead:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="sr">%r{^(?!/index$)}</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="user-content-static-files" class="anchor" href="https://github.com/sinatra/sinatra#static-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Static Files</h2>

<p>Static files are served from the <code>./public</code> directory. You can specify
a different location by setting the <code>:public_folder</code> option:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:public_folder</span><span class="p">,</span> <span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">__FILE__</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'/static'</span>
</pre></div>

<p>Note that the public directory name is not included in the URL. A file
<code>./public/css/style.css</code> is made available as
<code>http://example.com/css/style.css</code>.</p>

<p>Use the <code>:static_cache_control</code> setting (see below) to add
<code>Cache-Control</code> header info.</p>

<h2>
<a name="user-content-views--templates" class="anchor" href="https://github.com/sinatra/sinatra#views--templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views / Templates</h2>

<p>Each template language is exposed via its own rendering method. These
methods simply return a string:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:index</span>
<span class="k">end</span>
</pre></div>

<p>This renders <code>views/index.erb</code>.</p>

<p>Instead of a template name, you can also just pass in the template content
directly:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">code</span> <span class="o">=</span> <span class="s2">"&lt;%= Time.now %&gt;"</span>
  <span class="n">erb</span> <span class="n">code</span>
<span class="k">end</span>
</pre></div>

<p>Templates take a second argument, the options hash:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:index</span><span class="p">,</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="ss">:post</span>
<span class="k">end</span>
</pre></div>

<p>This will render <code>views/index.erb</code> embedded in the
<code>views/post.erb</code> (default is <code>views/layout.erb</code>, if it exists).</p>

<p>Any options not understood by Sinatra will be passed on to the template
engine:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="ss">:index</span><span class="p">,</span> <span class="ss">:format</span> <span class="o">=&gt;</span> <span class="ss">:html5</span>
<span class="k">end</span>
</pre></div>

<p>You can also set options per template language in general:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:haml</span><span class="p">,</span> <span class="ss">:format</span> <span class="o">=&gt;</span> <span class="ss">:html5</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="ss">:index</span>
<span class="k">end</span>
</pre></div>

<p>Options passed to the render method override options set via <code>set</code>.</p>

<p>Available Options:</p>

<dl>
<dt>locals</dt>
  <dd>
    List of locals passed to the document. Handy with partials.
    Example: <tt>erb "", :locals =&gt; {:foo =&gt; "bar"}</tt>
  </dd>

  <dt>default_encoding</dt>
  <dd>
    String encoding to use if uncertain. Defaults to
    <tt>settings.default_encoding</tt>.
  </dd>

  <dt>views</dt>
  <dd>
    Views folder to load templates from. Defaults to <tt>settings.views</tt>.
  </dd>

  <dt>layout</dt>
  <dd>
    Whether to use a layout (<tt>true</tt> or <tt>false</tt>). If it's a Symbol, specifies
    what template to use. Example: <tt>erb :index, :layout =&gt; !request.xhr?</tt>
  </dd>

  <dt>content_type</dt>
  <dd>
    Content-Type the template produces. Default depends on template language.
  </dd>

  <dt>scope</dt>
  <dd>
    Scope to render template under. Defaults to the application instance. If you
    change this, instance variables and helper methods will not be available.
  </dd>

  <dt>layout_engine</dt>
  <dd>
    Template engine to use for rendering the layout. Useful for languages that
    do not support layouts otherwise. Defaults to the engine used for the
    template. Example: <tt>set :rdoc, :layout_engine =&gt; :erb</tt>
  </dd>

  <dt>layout_options</dt>
  <dd>
    Special options only used for rendering the layout. Example:
    <tt>set :rdoc, :layout_options =&gt; { :views =&gt; 'views/layouts' }</tt>
  </dd>
</dl><p>Templates are assumed to be located directly under the <code>./views</code> directory. To
use a different views directory:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:views</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">root</span> <span class="o">+</span> <span class="s1">'/templates'</span>
</pre></div>

<p>One important thing to remember is that you always have to reference templates
with symbols, even if they're in a subdirectory (in this case, use:
<code>:'subdir/template'</code> or <code>'subdir/template'.to_sym</code>). You must use a symbol
because otherwise rendering methods will render any strings passed to them
directly.</p>

<h3>
<a name="user-content-literal-templates" class="anchor" href="https://github.com/sinatra/sinatra#literal-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Literal Templates</h3>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="s1">'%div.title Hello World'</span>
<span class="k">end</span>
</pre></div>

<p>Renders the template string.</p>

<h3>
<a name="user-content-available-template-languages" class="anchor" href="https://github.com/sinatra/sinatra#available-template-languages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Available Template Languages</h3>

<p>Some languages have multiple implementations. To specify what implementation
to use (and to be thread-safe), you should simply require it first:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'rdiscount'</span> <span class="c1"># or require 'bluecloth'</span>
<span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="n">markdown</span> <span class="ss">:index</span> <span class="p">}</span>
</pre></div>

<h4>
<a name="user-content-haml-templates" class="anchor" href="https://github.com/sinatra/sinatra#haml-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Haml Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://haml.info/" title="haml">haml</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.haml</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>haml :index, :format =&gt; :html5</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-erb-templates" class="anchor" href="https://github.com/sinatra/sinatra#erb-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Erb Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td>
      <a href="http://www.kuwata-lab.com/erubis/" title="erubis">erubis</a>
      or erb (included in Ruby)
    </td>
  </tr>
<tr>
<td>File Extensions</td>
    <td>
<tt>.erb</tt>, <tt>.rhtml</tt> or <tt>.erubis</tt> (Erubis only)</td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>erb :index</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-builder-templates" class="anchor" href="https://github.com/sinatra/sinatra#builder-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Builder Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td>
      <a href="http://builder.rubyforge.org/" title="builder">builder</a>
    </td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.builder</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>builder { |xml| xml.em "hi" }</tt></td>
  </tr>
</tbody></table><p>It also takes a block for inline templates (see example).</p>

<h4>
<a name="user-content-nokogiri-templates" class="anchor" href="https://github.com/sinatra/sinatra#nokogiri-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nokogiri Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://nokogiri.org/" title="nokogiri">nokogiri</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.nokogiri</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>nokogiri { |xml| xml.em "hi" }</tt></td>
  </tr>
</tbody></table><p>It also takes a block for inline templates (see example).</p>

<h4>
<a name="user-content-sass-templates" class="anchor" href="https://github.com/sinatra/sinatra#sass-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sass Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://sass-lang.com/" title="sass">sass</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.sass</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>sass :stylesheet, :style =&gt; :expanded</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-scss-templates" class="anchor" href="https://github.com/sinatra/sinatra#scss-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>SCSS Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://sass-lang.com/" title="sass">sass</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.scss</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>scss :stylesheet, :style =&gt; :expanded</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-less-templates" class="anchor" href="https://github.com/sinatra/sinatra#less-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Less Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://www.lesscss.org/" title="less">less</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.less</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>less :stylesheet</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-liquid-templates" class="anchor" href="https://github.com/sinatra/sinatra#liquid-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Liquid Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://www.liquidmarkup.org/" title="liquid">liquid</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.liquid</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>liquid :index, :locals =&gt; { :key =&gt; 'value' }</tt></td>
  </tr>
</tbody></table><p>Since you cannot call Ruby methods (except for <code>yield</code>) from a Liquid
template, you almost always want to pass locals to it.</p>

<h4>
<a name="user-content-markdown-templates" class="anchor" href="https://github.com/sinatra/sinatra#markdown-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Markdown Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td>
      Anyone of:
        <a href="https://github.com/rtomayko/rdiscount" title="RDiscount">RDiscount</a>,
        <a href="https://github.com/vmg/redcarpet" title="RedCarpet">RedCarpet</a>,
        <a href="http://deveiate.org/projects/BlueCloth" title="BlueCloth">BlueCloth</a>,
        <a href="http://kramdown.rubyforge.org/" title="kramdown">kramdown</a>,
        <a href="http://maruku.rubyforge.org/" title="maruku">maruku</a>
    </td>
  </tr>
<tr>
<td>File Extensions</td>
    <td>
<tt>.markdown</tt>, <tt>.mkd</tt> and <tt>.md</tt>
</td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>markdown :index, :layout_engine =&gt; :erb</tt></td>
  </tr>
</tbody></table><p>It is not possible to call methods from markdown, nor to pass locals to it.
You therefore will usually use it in combination with another rendering
engine:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:overview</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">markdown</span><span class="p">(</span><span class="ss">:introduction</span><span class="p">)</span> <span class="p">}</span>
</pre></div>

<p>Note that you may also call the <code>markdown</code> method from within other templates:</p>

<div class="highlight highlight-ruby"><pre><span class="o">%</span><span class="n">h1</span> <span class="no">Hello</span> <span class="no">From</span> <span class="no">Haml</span><span class="o">!</span>
<span class="o">%</span><span class="nb">p</span><span class="o">=</span> <span class="n">markdown</span><span class="p">(</span><span class="ss">:greetings</span><span class="p">)</span>
</pre></div>

<p>Since you cannot call Ruby from Markdown, you cannot use layouts written in
Markdown. However, it is possible to use another rendering engine for the
template than for the layout by passing the <code>:layout_engine</code> option.</p>

<h4>
<a name="user-content-textile-templates" class="anchor" href="https://github.com/sinatra/sinatra#textile-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Textile Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://redcloth.org/" title="RedCloth">RedCloth</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.textile</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>textile :index, :layout_engine =&gt; :erb</tt></td>
  </tr>
</tbody></table><p>It is not possible to call methods from textile, nor to pass locals to it. You
therefore will usually use it in combination with another rendering engine:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:overview</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">textile</span><span class="p">(</span><span class="ss">:introduction</span><span class="p">)</span> <span class="p">}</span>
</pre></div>

<p>Note that you may also call the <code>textile</code> method from within other templates:</p>

<div class="highlight highlight-ruby"><pre><span class="o">%</span><span class="n">h1</span> <span class="no">Hello</span> <span class="no">From</span> <span class="no">Haml</span><span class="o">!</span>
<span class="o">%</span><span class="nb">p</span><span class="o">=</span> <span class="n">textile</span><span class="p">(</span><span class="ss">:greetings</span><span class="p">)</span>
</pre></div>

<p>Since you cannot call Ruby from Textile, you cannot use layouts written in
Textile. However, it is possible to use another rendering engine for the
template than for the layout by passing the <code>:layout_engine</code> option.</p>

<h4>
<a name="user-content-rdoc-templates" class="anchor" href="https://github.com/sinatra/sinatra#rdoc-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>RDoc Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://rdoc.rubyforge.org/" title="RDoc">RDoc</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.rdoc</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>rdoc :README, :layout_engine =&gt; :erb</tt></td>
  </tr>
</tbody></table><p>It is not possible to call methods from rdoc, nor to pass locals to it. You
therefore will usually use it in combination with another rendering engine:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:overview</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">rdoc</span><span class="p">(</span><span class="ss">:introduction</span><span class="p">)</span> <span class="p">}</span>
</pre></div>

<p>Note that you may also call the <code>rdoc</code> method from within other templates:</p>

<div class="highlight highlight-ruby"><pre><span class="o">%</span><span class="n">h1</span> <span class="no">Hello</span> <span class="no">From</span> <span class="no">Haml</span><span class="o">!</span>
<span class="o">%</span><span class="nb">p</span><span class="o">=</span> <span class="n">rdoc</span><span class="p">(</span><span class="ss">:greetings</span><span class="p">)</span>
</pre></div>

<p>Since you cannot call Ruby from RDoc, you cannot use layouts written in
RDoc. However, it is possible to use another rendering engine for the
template than for the layout by passing the <code>:layout_engine</code> option.</p>

<h4>
<a name="user-content-asciidoc-templates" class="anchor" href="https://github.com/sinatra/sinatra#asciidoc-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>AsciiDoc Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://asciidoctor.org/" title="Asciidoctor">Asciidoctor</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td>
<tt>.asciidoc</tt>, <tt>.adoc</tt> and <tt>.ad</tt>
</td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>asciidoc :README, :layout_engine =&gt; :erb</tt></td>
  </tr>
</tbody></table><p>Since you cannot call Ruby methods directly from an AsciiDoc template, you almost
always want to pass locals to it.</p>

<h4>
<a name="user-content-radius-templates" class="anchor" href="https://github.com/sinatra/sinatra#radius-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Radius Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://radius.rubyforge.org/" title="Radius">Radius</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.radius</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>radius :index, :locals =&gt; { :key =&gt; 'value' }</tt></td>
  </tr>
</tbody></table><p>Since you cannot call Ruby methods directly from a Radius template, you almost
always want to pass locals to it.</p>

<h4>
<a name="user-content-markaby-templates" class="anchor" href="https://github.com/sinatra/sinatra#markaby-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Markaby Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://markaby.github.com/" title="Markaby">Markaby</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.mab</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>markaby { h1 "Welcome!" }</tt></td>
  </tr>
</tbody></table><p>It also takes a block for inline templates (see example).</p>

<h4>
<a name="user-content-rabl-templates" class="anchor" href="https://github.com/sinatra/sinatra#rabl-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>RABL Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="https://github.com/nesquena/rabl" title="Rabl">Rabl</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.rabl</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>rabl :index</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-slim-templates" class="anchor" href="https://github.com/sinatra/sinatra#slim-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Slim Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="http://slim-lang.com/" title="Slim Lang">Slim Lang</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.slim</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>slim :index</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-creole-templates" class="anchor" href="https://github.com/sinatra/sinatra#creole-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creole Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="https://github.com/minad/creole" title="Creole">Creole</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.creole</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>creole :wiki, :layout_engine =&gt; :erb</tt></td>
  </tr>
</tbody></table><p>It is not possible to call methods from creole, nor to pass locals to it. You
therefore will usually use it in combination with another rendering engine:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:overview</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">creole</span><span class="p">(</span><span class="ss">:introduction</span><span class="p">)</span> <span class="p">}</span>
</pre></div>

<p>Note that you may also call the <code>creole</code> method from within other templates:</p>

<div class="highlight highlight-ruby"><pre><span class="o">%</span><span class="n">h1</span> <span class="no">Hello</span> <span class="no">From</span> <span class="no">Haml</span><span class="o">!</span>
<span class="o">%</span><span class="nb">p</span><span class="o">=</span> <span class="n">creole</span><span class="p">(</span><span class="ss">:greetings</span><span class="p">)</span>
</pre></div>

<p>Since you cannot call Ruby from Creole, you cannot use layouts written in
Creole. However, it is possible to use another rendering engine for the
template than for the layout by passing the <code>:layout_engine</code> option.</p>

<h4>
<a name="user-content-mediawiki-templates" class="anchor" href="https://github.com/sinatra/sinatra#mediawiki-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>MediaWiki Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="https://github.com/nricciar/wikicloth" title="WikiCloth">WikiCloth</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td>
<tt>.mediawiki</tt> and <tt>.mw</tt>
</td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>mediawiki :wiki, :layout_engine =&gt; :erb</tt></td>
  </tr>
</tbody></table><p>It is not possible to call methods from MediaWiki markup, nor to pass locals to it.
You therefore will usually use it in combination with another rendering engine:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:overview</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">mediawiki</span><span class="p">(</span><span class="ss">:introduction</span><span class="p">)</span> <span class="p">}</span>
</pre></div>

<p>Note that you may also call the <code>mediawiki</code> method from within other templates:</p>

<div class="highlight highlight-ruby"><pre><span class="o">%</span><span class="n">h1</span> <span class="no">Hello</span> <span class="no">From</span> <span class="no">Haml</span><span class="o">!</span>
<span class="o">%</span><span class="nb">p</span><span class="o">=</span> <span class="n">mediawiki</span><span class="p">(</span><span class="ss">:greetings</span><span class="p">)</span>
</pre></div>

<p>Since you cannot call Ruby from MediaWiki, you cannot use layouts written in
MediaWiki. However, it is possible to use another rendering engine for the
template than for the layout by passing the <code>:layout_engine</code> option.</p>

<h4>
<a name="user-content-coffeescript-templates" class="anchor" href="https://github.com/sinatra/sinatra#coffeescript-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>CoffeeScript Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td>
      <a href="https://github.com/josh/ruby-coffee-script" title="Ruby CoffeeScript">
        CoffeeScript
      </a> and a
      <a href="https://github.com/sstephenson/execjs/blob/master/README.md#readme" title="ExecJS">
        way to execute javascript
      </a>
    </td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.coffee</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>coffee :index</tt></td>
  </tr>
</tbody></table><h4>
<a name="user-content-stylus-templates" class="anchor" href="https://github.com/sinatra/sinatra#stylus-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Stylus Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td>
      <a href="https://github.com/lucasmazza/ruby-stylus" title="Ruby Stylus">
        Stylus
      </a> and a
      <a href="https://github.com/sstephenson/execjs/blob/master/README.md#readme" title="ExecJS">
        way to execute javascript
      </a>
    </td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.styl</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>stylus :index</tt></td>
  </tr>
</tbody></table><p>Before being able to use Stylus templates, you need to load <code>stylus</code> and
<code>stylus/tilt</code> first:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra'</span>
<span class="nb">require</span> <span class="s1">'stylus'</span>
<span class="nb">require</span> <span class="s1">'stylus/tilt'</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">stylus</span> <span class="ss">:example</span>
<span class="k">end</span>
</pre></div>

<h4>
<a name="user-content-yajl-templates" class="anchor" href="https://github.com/sinatra/sinatra#yajl-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Yajl Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="https://github.com/brianmario/yajl-ruby" title="yajl-ruby">yajl-ruby</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.yajl</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td>
      <tt>
        yajl :index,
             :locals =&gt; { :key =&gt; 'qux' },
             :callback =&gt; 'present',
             :variable =&gt; 'resource'
      </tt>
    </td>
  </tr>
</tbody></table><p>The template source is evaluated as a Ruby string, and the
resulting json variable is converted using <code>#to_json</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">json</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">:foo</span> <span class="o">=&gt;</span> <span class="s1">'bar'</span> <span class="p">}</span>
<span class="n">json</span><span class="o">[</span><span class="ss">:baz</span><span class="o">]</span> <span class="o">=</span> <span class="n">key</span>
</pre></div>

<p>The <code>:callback</code> and <code>:variable</code> options can be used to decorate the rendered
object:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">resource</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span><span class="s2">"bar"</span><span class="p">,</span><span class="s2">"baz"</span><span class="o">:</span><span class="s2">"qux"</span><span class="p">};</span>
<span class="nx">present</span><span class="p">(</span><span class="nx">resource</span><span class="p">);</span>
</pre></div>

<h4>
<a name="user-content-wlang-templates" class="anchor" href="https://github.com/sinatra/sinatra#wlang-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>WLang Templates</h4>

<table>
<tbody><tr>
<td>Dependency</td>
    <td><a href="https://github.com/blambeau/wlang/" title="WLang">WLang</a></td>
  </tr>
<tr>
<td>File Extension</td>
    <td><tt>.wlang</tt></td>
  </tr>
<tr>
<td>Example</td>
    <td><tt>wlang :index, :locals =&gt; { :key =&gt; 'value' }</tt></td>
  </tr>
</tbody></table><p>Since calling ruby methods is not idiomatic in WLang, you almost always want to pass locals
to it. Layouts written in WLang and <code>yield</code> are supported, though.</p>

<h3>
<a name="user-content-accessing-variables-in-templates" class="anchor" href="https://github.com/sinatra/sinatra#accessing-variables-in-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Accessing Variables in Templates</h3>

<p>Templates are evaluated within the same context as route handlers. Instance
variables set in route handlers are directly accessible by templates:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/:id'</span> <span class="k">do</span>
  <span class="vi">@foo</span> <span class="o">=</span> <span class="no">Foo</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span><span class="p">)</span>
  <span class="n">haml</span> <span class="s1">'%h1= @foo.name'</span>
<span class="k">end</span>
</pre></div>

<p>Or, specify an explicit Hash of local variables:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/:id'</span> <span class="k">do</span>
  <span class="n">foo</span> <span class="o">=</span> <span class="no">Foo</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span><span class="p">)</span>
  <span class="n">haml</span> <span class="s1">'%h1= bar.name'</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:bar</span> <span class="o">=&gt;</span> <span class="n">foo</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div>

<p>This is typically used when rendering templates as partials from within
other templates.</p>

<h3>
<a name="user-content-templates-with-yield-and-nested-layouts" class="anchor" href="https://github.com/sinatra/sinatra#templates-with-yield-and-nested-layouts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Templates with <code>yield</code> and nested layouts</h3>

<p>A layout is usually just a template that calls <code>yield</code>.
Such a template can be used either through the <code>:template</code> option as
described above, or it can be rendered with a block as follows:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="kp">false</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:index</span>
<span class="k">end</span>
</pre></div>

<p>This code is mostly equivalent to <code>erb :index, :layout =&gt; :post</code>.</p>

<p>Passing blocks to rendering methods is most useful for creating nested
layouts:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:main_layout</span><span class="p">,</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="kp">false</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:admin_layout</span> <span class="k">do</span>
    <span class="n">erb</span> <span class="ss">:user</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>This can also be done in fewer lines of code with:</p>

<div class="highlight highlight-ruby"><pre><span class="n">erb</span> <span class="ss">:admin_layout</span><span class="p">,</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="ss">:main_layout</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:user</span>
<span class="k">end</span>
</pre></div>

<p>Currently, the following rendering methods accept a block: <code>erb</code>, <code>haml</code>,
<code>liquid</code>, <code>slim</code>, <code>wlang</code>.
Also the general <code>render</code> method accepts a block.</p>

<h3>
<a name="user-content-inline-templates" class="anchor" href="https://github.com/sinatra/sinatra#inline-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inline Templates</h3>

<p>Templates may be defined at the end of the source file:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra'</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="ss">:index</span>
<span class="k">end</span>

<span class="cp">__END__</span>

<span class="cp">@@ layout</span>
<span class="cp">%html</span>
<span class="cp">  = yield</span>

<span class="cp">@@ index</span>
<span class="cp">%div.title Hello world.</span>
</pre></div>

<p>NOTE: Inline templates defined in the source file that requires sinatra are
automatically loaded. Call <code>enable :inline_templates</code> explicitly if you
have inline templates in other source files.</p>

<h3>
<a name="user-content-named-templates" class="anchor" href="https://github.com/sinatra/sinatra#named-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Named Templates</h3>

<p>Templates may also be defined using the top-level <code>template</code> method:</p>

<div class="highlight highlight-ruby"><pre><span class="n">template</span> <span class="ss">:layout</span> <span class="k">do</span>
  <span class="s2">"%html</span><span class="se">\n</span><span class="s2">  =yield</span><span class="se">\n</span><span class="s2">"</span>
<span class="k">end</span>

<span class="n">template</span> <span class="ss">:index</span> <span class="k">do</span>
  <span class="s1">'%div.title Hello World!'</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="ss">:index</span>
<span class="k">end</span>
</pre></div>

<p>If a template named "layout" exists, it will be used each time a template
is rendered. You can individually disable layouts by passing
<code>:layout =&gt; false</code> or disable them by default via
<code>set :haml, :layout =&gt; false</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">haml</span> <span class="ss">:index</span><span class="p">,</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="n">request</span><span class="o">.</span><span class="n">xhr?</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-associating-file-extensions" class="anchor" href="https://github.com/sinatra/sinatra#associating-file-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Associating File Extensions</h3>

<p>To associate a file extension with a template engine, use
<code>Tilt.register</code>. For instance, if you like to use the file extension
<code>tt</code> for Textile templates, you can do the following:</p>

<div class="highlight highlight-ruby"><pre><span class="no">Tilt</span><span class="o">.</span><span class="n">register</span> <span class="ss">:tt</span><span class="p">,</span> <span class="no">Tilt</span><span class="o">[</span><span class="ss">:textile</span><span class="o">]</span>
</pre></div>

<h3>
<a name="user-content-adding-your-own-template-engine" class="anchor" href="https://github.com/sinatra/sinatra#adding-your-own-template-engine" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding Your Own Template Engine</h3>

<p>First, register your engine with Tilt, then create a rendering method:</p>

<div class="highlight highlight-ruby"><pre><span class="no">Tilt</span><span class="o">.</span><span class="n">register</span> <span class="ss">:myat</span><span class="p">,</span> <span class="no">MyAwesomeTemplateEngine</span>

<span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">myat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="n">render</span><span class="p">(</span><span class="ss">:myat</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">myat</span> <span class="ss">:index</span>
<span class="k">end</span>
</pre></div>

<p>Renders <code>./views/index.myat</code>. See <a href="https://github.com/rtomayko/tilt">https://github.com/rtomayko/tilt</a> to
learn more about Tilt.</p>

<h3>
<a name="user-content-using-custom-logic-for-template-lookup" class="anchor" href="https://github.com/sinatra/sinatra#using-custom-logic-for-template-lookup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Custom Logic for Template Lookup</h3>

<p>To implement your own template lookup mechanism you can write your
own <code>#find_template</code> method:</p>

<div class="highlight highlight-ruby"><pre><span class="n">configure</span> <span class="k">do</span>
  <span class="n">set</span> <span class="ss">:views</span> <span class="o">[</span> <span class="s1">'./views/a'</span><span class="p">,</span> <span class="s1">'./views/b'</span> <span class="o">]</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">find_template</span><span class="p">(</span><span class="n">views</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="nb">Array</span><span class="p">(</span><span class="n">views</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
    <span class="k">super</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="user-content-filters" class="anchor" href="https://github.com/sinatra/sinatra#filters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Filters</h2>

<p>Before filters are evaluated before each request within the same
context as the routes will be and can modify the request and response. Instance
variables set in filters are accessible by routes and templates:</p>

<div class="highlight highlight-ruby"><pre><span class="n">before</span> <span class="k">do</span>
  <span class="vi">@note</span> <span class="o">=</span> <span class="s1">'Hi!'</span>
  <span class="n">request</span><span class="o">.</span><span class="n">path_info</span> <span class="o">=</span> <span class="s1">'/foo/bar/baz'</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/foo/*'</span> <span class="k">do</span>
  <span class="vi">@note</span> <span class="c1">#=&gt; 'Hi!'</span>
  <span class="n">params</span><span class="o">[</span><span class="s1">'splat'</span><span class="o">]</span> <span class="c1">#=&gt; 'bar/baz'</span>
<span class="k">end</span>
</pre></div>

<p>After filters are evaluated after each request within the same
context as the routes will be and can also modify the request and response. Instance
variables set in before filters and routes are accessible by after filters:</p>

<div class="highlight highlight-ruby"><pre><span class="n">after</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="n">response</span><span class="o">.</span><span class="n">status</span>
<span class="k">end</span>
</pre></div>

<p>Note: Unless you use the <code>body</code> method rather than just returning a String from
the routes, the body will not yet be available in the after filter, since it is
generated later on.</p>

<p>Filters optionally take a pattern, causing them to be evaluated only if the
request path matches that pattern:</p>

<div class="highlight highlight-ruby"><pre><span class="n">before</span> <span class="s1">'/protected/*'</span> <span class="k">do</span>
  <span class="n">authenticate!</span>
<span class="k">end</span>

<span class="n">after</span> <span class="s1">'/create/:slug'</span> <span class="k">do</span> <span class="o">|</span><span class="n">slug</span><span class="o">|</span>
  <span class="n">session</span><span class="o">[</span><span class="ss">:last_slug</span><span class="o">]</span> <span class="o">=</span> <span class="n">slug</span>
<span class="k">end</span>
</pre></div>

<p>Like routes, filters also take conditions:</p>

<div class="highlight highlight-ruby"><pre><span class="n">before</span> <span class="ss">:agent</span> <span class="o">=&gt;</span> <span class="sr">/Songbird/</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>

<span class="n">after</span> <span class="s1">'/blog/*'</span><span class="p">,</span> <span class="ss">:host_name</span> <span class="o">=&gt;</span> <span class="s1">'example.com'</span> <span class="k">do</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="user-content-helpers" class="anchor" href="https://github.com/sinatra/sinatra#helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Helpers</h2>

<p>Use the top-level <code>helpers</code> method to define helper methods for use in
route handlers and templates:</p>

<div class="highlight highlight-ruby"><pre><span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="s2">"</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">bar"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/:name'</span> <span class="k">do</span>
  <span class="n">bar</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>

<p>Alternatively, helper methods can be separately defined in a module:</p>

<div class="highlight highlight-ruby"><pre><span class="k">module</span> <span class="nn">FooUtils</span>
  <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span> <span class="s2">"</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">foo"</span> <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">BarUtils</span>
  <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span> <span class="s2">"</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">bar"</span> <span class="k">end</span>
<span class="k">end</span>

<span class="n">helpers</span> <span class="no">FooUtils</span><span class="p">,</span> <span class="no">BarUtils</span>
</pre></div>

<p>The effect is the same as including the modules in the application class.</p>

<h3>
<a name="user-content-using-sessions" class="anchor" href="https://github.com/sinatra/sinatra#using-sessions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Sessions</h3>

<p>A session is used to keep state during requests. If activated, you have one
session hash per user session:</p>

<div class="highlight highlight-ruby"><pre><span class="n">enable</span> <span class="ss">:sessions</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="s2">"value = "</span> <span class="o">&lt;&lt;</span> <span class="n">session</span><span class="o">[</span><span class="ss">:value</span><span class="o">].</span><span class="n">inspect</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/:value'</span> <span class="k">do</span>
  <span class="n">session</span><span class="o">[</span><span class="s1">'value'</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="s1">'value'</span><span class="o">]</span>
<span class="k">end</span>
</pre></div>

<p>Note that <code>enable :sessions</code> actually stores all data in a cookie. This
might not always be what you want (storing lots of data will increase your
traffic, for instance). You can use any Rack session middleware: in order to
do so, do <strong>not</strong> call <code>enable :sessions</code>, but instead pull in your
middleware of choice as you would any other middleware:</p>

<div class="highlight highlight-ruby"><pre><span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Session</span><span class="o">::</span><span class="no">Pool</span><span class="p">,</span> <span class="ss">:expire_after</span> <span class="o">=&gt;</span> <span class="mi">2592000</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="s2">"value = "</span> <span class="o">&lt;&lt;</span> <span class="n">session</span><span class="o">[</span><span class="ss">:value</span><span class="o">].</span><span class="n">inspect</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/:value'</span> <span class="k">do</span>
  <span class="n">session</span><span class="o">[</span><span class="s1">'value'</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="s1">'value'</span><span class="o">]</span>
<span class="k">end</span>
</pre></div>

<p>To improve security, the session data in the cookie is signed with a session
secret. A random secret is generated for you by Sinatra. However, since this
secret will change with every start of your application, you might want to
set the secret yourself, so all your application instances share it:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:session_secret</span><span class="p">,</span> <span class="s1">'super secret'</span>
</pre></div>

<p>If you want to configure it further, you may also store a hash with options in
the <code>sessions</code> setting:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:sessions</span><span class="p">,</span> <span class="ss">:domain</span> <span class="o">=&gt;</span> <span class="s1">'foo.com'</span>
</pre></div>

<p>To share your session across other apps on subdomains of foo.com, prefix the
domain with a <em>.</em> like this instead:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:sessions</span><span class="p">,</span> <span class="ss">:domain</span> <span class="o">=&gt;</span> <span class="s1">'.foo.com'</span>
</pre></div>

<h3>
<a name="user-content-halting" class="anchor" href="https://github.com/sinatra/sinatra#halting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Halting</h3>

<p>To immediately stop a request within a filter or route use:</p>

<div class="highlight highlight-ruby"><pre><span class="n">halt</span>
</pre></div>

<p>You can also specify the status when halting:</p>

<div class="highlight highlight-ruby"><pre><span class="n">halt</span> <span class="mi">410</span>
</pre></div>

<p>Or the body:</p>

<div class="highlight highlight-ruby"><pre><span class="n">halt</span> <span class="s1">'this will be the body'</span>
</pre></div>

<p>Or both:</p>

<div class="highlight highlight-ruby"><pre><span class="n">halt</span> <span class="mi">401</span><span class="p">,</span> <span class="s1">'go away!'</span>
</pre></div>

<p>With headers:</p>

<div class="highlight highlight-ruby"><pre><span class="n">halt</span> <span class="mi">402</span><span class="p">,</span> <span class="p">{</span><span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'text/plain'</span><span class="p">},</span> <span class="s1">'revenge'</span>
</pre></div>

<p>It is of course possible to combine a template with <code>halt</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">halt</span> <span class="n">erb</span><span class="p">(</span><span class="ss">:error</span><span class="p">)</span>
</pre></div>

<h3>
<a name="user-content-passing" class="anchor" href="https://github.com/sinatra/sinatra#passing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Passing</h3>

<p>A route can punt processing to the next matching route using <code>pass</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/guess/:who'</span> <span class="k">do</span>
  <span class="n">pass</span> <span class="k">unless</span> <span class="n">params</span><span class="o">[</span><span class="s1">'who'</span><span class="o">]</span> <span class="o">==</span> <span class="s1">'Frank'</span>
  <span class="s1">'You got me!'</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/guess/*'</span> <span class="k">do</span>
  <span class="s1">'You missed!'</span>
<span class="k">end</span>
</pre></div>

<p>The route block is immediately exited and control continues with the next
matching route. If no matching route is found, a 404 is returned.</p>

<h3>
<a name="user-content-triggering-another-route" class="anchor" href="https://github.com/sinatra/sinatra#triggering-another-route" aria-hidden="true"><span class="octicon octicon-link"></span></a>Triggering Another Route</h3>

<p>Sometimes <code>pass</code> is not what you want, instead you would like to get the result
of calling another route. Simply use <code>call</code> to achieve this:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">body</span> <span class="o">=</span> <span class="n">call</span> <span class="n">env</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="s2">"PATH_INFO"</span> <span class="o">=&gt;</span> <span class="s1">'/bar'</span><span class="p">)</span>
  <span class="o">[</span><span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">body</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:upcase</span><span class="p">)</span><span class="o">]</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/bar'</span> <span class="k">do</span>
  <span class="s2">"bar"</span>
<span class="k">end</span>
</pre></div>

<p>Note that in the example above, you would ease testing and increase performance
by simply moving <code>"bar"</code> into a helper used by both <code>/foo</code>
and <code>/bar</code>.</p>

<p>If you want the request to be sent to the same application instance rather than
a duplicate, use <code>call!</code> instead of <code>call</code>.</p>

<p>Check out the Rack specification if you want to learn more about <code>call</code>.</p>

<h3>
<a name="user-content-setting-body-status-code-and-headers" class="anchor" href="https://github.com/sinatra/sinatra#setting-body-status-code-and-headers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Body, Status Code and Headers</h3>

<p>It is possible and recommended to set the status code and response body with the
return value of the route block. However, in some scenarios you might want to
set the body at an arbitrary point in the execution flow. You can do so with the
<code>body</code> helper method. If you do so, you can use that method from there on to
access the body:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="n">body</span> <span class="s2">"bar"</span>
<span class="k">end</span>

<span class="n">after</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="n">body</span>
<span class="k">end</span>
</pre></div>

<p>It is also possible to pass a block to <code>body</code>, which will be executed by the
Rack handler (this can be used to implement streaming, see "Return Values").</p>

<p>Similar to the body, you can also set the status code and headers:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="n">status</span> <span class="mi">418</span>
  <span class="n">headers</span> <span class="p">\</span>
    <span class="s2">"Allow"</span>   <span class="o">=&gt;</span> <span class="s2">"BREW, POST, GET, PROPFIND, WHEN"</span><span class="p">,</span>
    <span class="s2">"Refresh"</span> <span class="o">=&gt;</span> <span class="s2">"Refresh: 20; http://www.ietf.org/rfc/rfc2324.txt"</span>
  <span class="n">body</span> <span class="s2">"I'm a tea pot!"</span>
<span class="k">end</span>
</pre></div>

<p>Like <code>body</code>, <code>headers</code> and <code>status</code> with no arguments can be used to access
their current values.</p>

<h3>
<a name="user-content-streaming-responses" class="anchor" href="https://github.com/sinatra/sinatra#streaming-responses" aria-hidden="true"><span class="octicon octicon-link"></span></a>Streaming Responses</h3>

<p>Sometimes you want to start sending out data while still generating parts of
the response body. In extreme examples, you want to keep sending data until
the client closes the connection. You can use the <code>stream</code> helper to avoid
creating your own wrapper:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">stream</span> <span class="k">do</span> <span class="o">|</span><span class="n">out</span><span class="o">|</span>
    <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="s2">"It's gonna be legen -</span><span class="se">\n</span><span class="s2">"</span>
    <span class="nb">sleep</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span>
    <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="s2">" (wait for it) </span><span class="se">\n</span><span class="s2">"</span>
    <span class="nb">sleep</span> <span class="mi">1</span>
    <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="s2">"- dary!</span><span class="se">\n</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>This allows you to implement streaming APIs,
<a href="http://dev.w3.org/html5/eventsource/">Server Sent Events</a>, and can be used as
the basis for <a href="http://en.wikipedia.org/wiki/WebSocket">WebSockets</a>. It can also be
used to increase throughput if some but not all content depends on a slow
resource.</p>

<p>Note that the streaming behavior, especially the number of concurrent requests,
highly depends on the web server used to serve the application. Some servers,
like WEBRick, might not even support streaming at all. If the server does not
support streaming, the body will be sent all at once after the block passed to
<code>stream</code> finishes executing. Streaming does not work at all with Shotgun.</p>

<p>If the optional parameter is set to <code>keep_open</code>, it will not call <code>close</code> on
the stream object, allowing you to close it at any later point in the
execution flow. This only works on evented servers, like Thin and Rainbows.
Other servers will still close the stream:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># long polling</span>

<span class="n">set</span> <span class="ss">:server</span><span class="p">,</span> <span class="ss">:thin</span>
<span class="n">connections</span> <span class="o">=</span> <span class="o">[]</span>

<span class="n">get</span> <span class="s1">'/subscribe'</span> <span class="k">do</span>
  <span class="c1"># register a client's interest in server events</span>
  <span class="n">stream</span><span class="p">(</span><span class="ss">:keep_open</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">out</span><span class="o">|</span> <span class="n">connections</span> <span class="o">&lt;&lt;</span> <span class="n">out</span> <span class="p">}</span>

  <span class="c1"># purge dead connections</span>
  <span class="n">connections</span><span class="o">.</span><span class="n">reject!</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:closed?</span><span class="p">)</span>

  <span class="c1"># acknowledge</span>
  <span class="s2">"subscribed"</span>
<span class="k">end</span>

<span class="n">post</span> <span class="s1">'/:message'</span> <span class="k">do</span>
  <span class="n">connections</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">out</span><span class="o">|</span>
    <span class="c1"># notify client that a new message has arrived</span>
    <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="n">params</span><span class="o">[</span><span class="s1">'message'</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>

    <span class="c1">#&nbsp;indicate client to connect again</span>
    <span class="n">out</span><span class="o">.</span><span class="n">close</span>
  <span class="k">end</span>

  <span class="c1"># acknowledge</span>
  <span class="s2">"message received"</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-logging" class="anchor" href="https://github.com/sinatra/sinatra#logging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Logging</h3>

<p>In the request scope, the <code>logger</code> helper exposes a <code>Logger</code> instance:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">logger</span><span class="o">.</span><span class="n">info</span> <span class="s2">"loading data"</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</pre></div>

<p>This logger will automatically take your Rack handler's logging settings into
account. If logging is disabled, this method will return a dummy object, so
you do not have to worry about it in your routes and filters.</p>

<p>Note that logging is only enabled for <code>Sinatra::Application</code> by
default, so if you inherit from <code>Sinatra::Base</code>, you probably want to
enable it yourself:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">configure</span> <span class="ss">:production</span><span class="p">,</span> <span class="ss">:development</span> <span class="k">do</span>
    <span class="n">enable</span> <span class="ss">:logging</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>To avoid any logging middleware to be set up, set the <code>logging</code> setting to
<code>nil</code>. However, keep in mind that <code>logger</code> will in that case return <code>nil</code>. A
common use case is when you want to set your own logger. Sinatra will use
whatever it will find in <code>env['rack.logger']</code>.</p>

<h3>
<a name="user-content-mime-types" class="anchor" href="https://github.com/sinatra/sinatra#mime-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mime Types</h3>

<p>When using <code>send_file</code> or static files you may have mime types Sinatra
doesn't understand. Use <code>mime_type</code> to register them by file extension:</p>

<div class="highlight highlight-ruby"><pre><span class="n">configure</span> <span class="k">do</span>
  <span class="n">mime_type</span> <span class="ss">:foo</span><span class="p">,</span> <span class="s1">'text/foo'</span>
<span class="k">end</span>
</pre></div>

<p>You can also use it with the <code>content_type</code> helper:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">content_type</span> <span class="ss">:foo</span>
  <span class="s2">"foo foo foo"</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-generating-urls" class="anchor" href="https://github.com/sinatra/sinatra#generating-urls" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generating URLs</h3>

<p>For generating URLs you should use the <code>url</code> helper method, for instance, in
Haml:</p>

<div class="highlight highlight-ruby"><pre><span class="o">%</span><span class="n">a</span><span class="p">{</span><span class="ss">:href</span> <span class="o">=&gt;</span> <span class="n">url</span><span class="p">(</span><span class="s1">'/foo'</span><span class="p">)}</span> <span class="n">foo</span>
</pre></div>

<p>It takes reverse proxies and Rack routers into account, if present.</p>

<p>This method is also aliased to <code>to</code> (see below for an example).</p>

<h3>
<a name="user-content-browser-redirect" class="anchor" href="https://github.com/sinatra/sinatra#browser-redirect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Browser Redirect</h3>

<p>You can trigger a browser redirect with the <code>redirect</code> helper method:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s1">'/bar'</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>

<p>Any additional parameters are handled like arguments passed to <code>halt</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s1">'/bar'</span><span class="p">),</span> <span class="mi">303</span>
<span class="n">redirect</span> <span class="s1">'http://google.com'</span><span class="p">,</span> <span class="s1">'wrong place, buddy'</span>
</pre></div>

<p>You can also easily redirect back to the page the user came from with
<code>redirect back</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="s2">"&lt;a href='/bar'&gt;do something&lt;/a&gt;"</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/bar'</span> <span class="k">do</span>
  <span class="n">do_something</span>
  <span class="n">redirect</span> <span class="n">back</span>
<span class="k">end</span>
</pre></div>

<p>To pass arguments with a redirect, either add them to the query:</p>

<div class="highlight highlight-ruby"><pre><span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s1">'/bar?sum=42'</span><span class="p">)</span>
</pre></div>

<p>Or use a session:</p>

<div class="highlight highlight-ruby"><pre><span class="n">enable</span> <span class="ss">:sessions</span>

<span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="n">session</span><span class="o">[</span><span class="ss">:secret</span><span class="o">]</span> <span class="o">=</span> <span class="s1">'foo'</span>
  <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s1">'/bar'</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/bar'</span> <span class="k">do</span>
  <span class="n">session</span><span class="o">[</span><span class="ss">:secret</span><span class="o">]</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-cache-control" class="anchor" href="https://github.com/sinatra/sinatra#cache-control" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cache Control</h3>

<p>Setting your headers correctly is the foundation for proper HTTP caching.</p>

<p>You can easily set the Cache-Control header like this:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">cache_control</span> <span class="ss">:public</span>
  <span class="s2">"cache it!"</span>
<span class="k">end</span>
</pre></div>

<p>Pro tip: Set up caching in a before filter:</p>

<div class="highlight highlight-ruby"><pre><span class="n">before</span> <span class="k">do</span>
  <span class="n">cache_control</span> <span class="ss">:public</span><span class="p">,</span> <span class="ss">:must_revalidate</span><span class="p">,</span> <span class="ss">:max_age</span> <span class="o">=&gt;</span> <span class="mi">60</span>
<span class="k">end</span>
</pre></div>

<p>If you are using the <code>expires</code> helper to set the corresponding header,
<code>Cache-Control</code> will be set automatically for you:</p>

<div class="highlight highlight-ruby"><pre><span class="n">before</span> <span class="k">do</span>
  <span class="n">expires</span> <span class="mi">500</span><span class="p">,</span> <span class="ss">:public</span><span class="p">,</span> <span class="ss">:must_revalidate</span>
<span class="k">end</span>
</pre></div>

<p>To properly use caches, you should consider using <code>etag</code> or <code>last_modified</code>.
It is recommended to call those helpers <em>before</em> doing any heavy lifting, as they
will immediately flush a response if the client already has the current
version in its cache:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s2">"/article/:id"</span> <span class="k">do</span>
  <span class="vi">@article</span> <span class="o">=</span> <span class="no">Article</span><span class="o">.</span><span class="n">find</span> <span class="n">params</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span>
  <span class="n">last_modified</span> <span class="vi">@article</span><span class="o">.</span><span class="n">updated_at</span>
  <span class="n">etag</span> <span class="vi">@article</span><span class="o">.</span><span class="n">sha1</span>
  <span class="n">erb</span> <span class="ss">:article</span>
<span class="k">end</span>
</pre></div>

<p>It is also possible to use a
<a href="http://en.wikipedia.org/wiki/HTTP_ETag#Strong_and_weak_validation">weak ETag</a>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">etag</span> <span class="vi">@article</span><span class="o">.</span><span class="n">sha1</span><span class="p">,</span> <span class="ss">:weak</span>
</pre></div>

<p>These helpers will not do any caching for you, but rather feed the necessary
information to your cache. If you are looking for a quick reverse-proxy caching
solution, try <a href="https://github.com/rtomayko/rack-cache">rack-cache</a>:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s2">"rack/cache"</span>
<span class="nb">require</span> <span class="s2">"sinatra"</span>

<span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Cache</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">cache_control</span> <span class="ss">:public</span><span class="p">,</span> <span class="ss">:max_age</span> <span class="o">=&gt;</span> <span class="mi">36000</span>
  <span class="nb">sleep</span> <span class="mi">5</span>
  <span class="s2">"hello"</span>
<span class="k">end</span>
</pre></div>

<p>Use the <code>:static_cache_control</code> setting (see below) to add
<code>Cache-Control</code> header info to static files.</p>

<p>According to RFC 2616, your application should behave differently if the If-Match
or If-None-Match header is set to <code>*</code>, depending on whether the resource
requested is already in existence. Sinatra assumes resources for safe (like get)
and idempotent (like put) requests are already in existence, whereas other
resources (for instance post requests) are treated as new resources. You
can change this behavior by passing in a <code>:new_resource</code> option:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/create'</span> <span class="k">do</span>
  <span class="n">etag</span> <span class="s1">''</span><span class="p">,</span> <span class="ss">:new_resource</span> <span class="o">=&gt;</span> <span class="kp">true</span>
  <span class="no">Article</span><span class="o">.</span><span class="n">create</span>
  <span class="n">erb</span> <span class="ss">:new_article</span>
<span class="k">end</span>
</pre></div>

<p>If you still want to use a weak ETag, pass in a <code>:kind</code> option:</p>

<div class="highlight highlight-ruby"><pre><span class="n">etag</span> <span class="s1">''</span><span class="p">,</span> <span class="ss">:new_resource</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">:kind</span> <span class="o">=&gt;</span> <span class="ss">:weak</span>
</pre></div>

<h3>
<a name="user-content-sending-files" class="anchor" href="https://github.com/sinatra/sinatra#sending-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sending Files</h3>

<p>For sending files, you can use the <code>send_file</code> helper method:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">send_file</span> <span class="s1">'foo.png'</span>
<span class="k">end</span>
</pre></div>

<p>It also takes options:</p>

<div class="highlight highlight-ruby"><pre><span class="n">send_file</span> <span class="s1">'foo.png'</span><span class="p">,</span> <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="ss">:jpg</span>
</pre></div>

<p>The options are:</p>

<dl>
<dt>filename</dt>
    <dd>file name, in response, defaults to the real file name.</dd>

  <dt>last_modified</dt>
    <dd>value for Last-Modified header, defaults to the file's mtime.</dd>

  <dt>type</dt>
    <dd>content type to use, guessed from the file extension if missing.</dd>

  <dt>disposition</dt>
    <dd>
      used for Content-Disposition, possible value: <tt>nil</tt> (default),
      <tt>:attachment</tt> and <tt>:inline</tt>
    </dd>

  <dt>length</dt>
    <dd>Content-Length header, defaults to file size.</dd>

  <dt>status</dt>
    <dd>
      Status code to be sent. Useful when sending a static file as an error page.

      If supported by the Rack handler, other means than streaming from the Ruby
      process will be used. If you use this helper method, Sinatra will automatically
      handle range requests.
    </dd>
</dl><h3>
<a name="user-content-accessing-the-request-object" class="anchor" href="https://github.com/sinatra/sinatra#accessing-the-request-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>Accessing the Request Object</h3>

<p>The incoming request object can be accessed from request level (filter, routes,
error handlers) through the <code>request</code> method:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># app running on http://example.com/example</span>
<span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
  <span class="n">t</span> <span class="o">=</span> <span class="sx">%w[text/css text/html application/javascript]</span>
  <span class="n">request</span><span class="o">.</span><span class="n">accept</span>              <span class="c1"># ['text/html', '*/*']</span>
  <span class="n">request</span><span class="o">.</span><span class="n">accept?</span> <span class="s1">'text/xml'</span>  <span class="c1"># true</span>
  <span class="n">request</span><span class="o">.</span><span class="n">preferred_type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>   <span class="c1"># 'text/html'</span>
  <span class="n">request</span><span class="o">.</span><span class="n">body</span>                <span class="c1"># request body sent by the client (see below)</span>
  <span class="n">request</span><span class="o">.</span><span class="n">scheme</span>              <span class="c1"># "http"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">script_name</span>         <span class="c1"># "/example"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">path_info</span>           <span class="c1"># "/foo"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">port</span>                <span class="c1"># 80</span>
  <span class="n">request</span><span class="o">.</span><span class="n">request_method</span>      <span class="c1"># "GET"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">query_string</span>        <span class="c1"># ""</span>
  <span class="n">request</span><span class="o">.</span><span class="n">content_length</span>      <span class="c1"># length of request.body</span>
  <span class="n">request</span><span class="o">.</span><span class="n">media_type</span>          <span class="c1"># media type of request.body</span>
  <span class="n">request</span><span class="o">.</span><span class="n">host</span>                <span class="c1"># "example.com"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">get?</span>                <span class="c1"># true (similar methods for other verbs)</span>
  <span class="n">request</span><span class="o">.</span><span class="n">form_data?</span>          <span class="c1"># false</span>
  <span class="n">request</span><span class="o">[</span><span class="s2">"some_param"</span><span class="o">]</span>       <span class="c1"># value of some_param parameter. [] is a shortcut to the params hash.</span>
  <span class="n">request</span><span class="o">.</span><span class="n">referrer</span>            <span class="c1"># the referrer of the client or '/'</span>
  <span class="n">request</span><span class="o">.</span><span class="n">user_agent</span>          <span class="c1"># user agent (used by :agent condition)</span>
  <span class="n">request</span><span class="o">.</span><span class="n">cookies</span>             <span class="c1"># hash of browser cookies</span>
  <span class="n">request</span><span class="o">.</span><span class="n">xhr?</span>                <span class="c1"># is this an ajax request?</span>
  <span class="n">request</span><span class="o">.</span><span class="n">url</span>                 <span class="c1"># "http://example.com/example/foo"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">path</span>                <span class="c1"># "/example/foo"</span>
  <span class="n">request</span><span class="o">.</span><span class="n">ip</span>                  <span class="c1"># client IP address</span>
  <span class="n">request</span><span class="o">.</span><span class="n">secure?</span>             <span class="c1"># false (would be true over ssl)</span>
  <span class="n">request</span><span class="o">.</span><span class="n">forwarded?</span>          <span class="c1"># true (if running behind a reverse proxy)</span>
  <span class="n">request</span><span class="o">.</span><span class="n">env</span>                 <span class="c1"># raw env hash handed in by Rack</span>
<span class="k">end</span>
</pre></div>

<p>Some options, like <code>script_name</code> or <code>path_info</code>, can also be
written:</p>

<div class="highlight highlight-ruby"><pre><span class="n">before</span> <span class="p">{</span> <span class="n">request</span><span class="o">.</span><span class="n">path_info</span> <span class="o">=</span> <span class="s2">"/"</span> <span class="p">}</span>

<span class="n">get</span> <span class="s2">"/"</span> <span class="k">do</span>
  <span class="s2">"all requests end up here"</span>
<span class="k">end</span>
</pre></div>

<p>The <code>request.body</code> is an IO or StringIO object:</p>

<div class="highlight highlight-ruby"><pre><span class="n">post</span> <span class="s2">"/api"</span> <span class="k">do</span>
  <span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">rewind</span>  <span class="c1"># in case someone already read it</span>
  <span class="n">data</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="n">parse</span> <span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">read</span>
  <span class="s2">"Hello </span><span class="si">#{</span><span class="n">data</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span><span class="si">}</span><span class="s2">!"</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-attachments" class="anchor" href="https://github.com/sinatra/sinatra#attachments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Attachments</h3>

<p>You can use the <code>attachment</code> helper to tell the browser the response should be
stored on disk rather than displayed in the browser:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">attachment</span>
  <span class="s2">"store it!"</span>
<span class="k">end</span>
</pre></div>

<p>You can also pass it a file name:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">attachment</span> <span class="s2">"info.txt"</span>
  <span class="s2">"store it!"</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-dealing-with-date-and-time" class="anchor" href="https://github.com/sinatra/sinatra#dealing-with-date-and-time" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dealing with Date and Time</h3>

<p>Sinatra offers a <code>time_for</code> helper method that generates a Time object
from the given value. It is also able to convert <code>DateTime</code>, <code>Date</code> and
similar classes:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">pass</span> <span class="k">if</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span> <span class="o">&gt;</span> <span class="n">time_for</span><span class="p">(</span><span class="s1">'Dec 23, 2012'</span><span class="p">)</span>
  <span class="s2">"still time"</span>
<span class="k">end</span>
</pre></div>

<p>This method is used internally by <code>expires</code>, <code>last_modified</code> and akin. You can
therefore easily extend the behavior of those methods by overriding <code>time_for</code>
in your application:</p>

<div class="highlight highlight-ruby"><pre><span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">time_for</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">value</span>
    <span class="k">when</span> <span class="ss">:yesterday</span> <span class="k">then</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span> <span class="o">-</span> <span class="mi">24</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span>
    <span class="k">when</span> <span class="ss">:tomorrow</span>  <span class="k">then</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span> <span class="o">+</span> <span class="mi">24</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span>
    <span class="k">else</span> <span class="k">super</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">last_modified</span> <span class="ss">:yesterday</span>
  <span class="n">expires</span> <span class="ss">:tomorrow</span>
  <span class="s2">"hello"</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-looking-up-template-files" class="anchor" href="https://github.com/sinatra/sinatra#looking-up-template-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Looking Up Template Files</h3>

<p>The <code>find_template</code> helper is used to find template files for rendering:</p>

<div class="highlight highlight-ruby"><pre><span class="n">find_template</span> <span class="n">settings</span><span class="o">.</span><span class="n">views</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="no">Tilt</span><span class="o">[</span><span class="ss">:haml</span><span class="o">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"could be </span><span class="si">#{</span><span class="n">file</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</pre></div>

<p>This is not really useful. But it is useful that you can actually override this
method to hook in your own lookup mechanism. For instance, if you want to be
able to use more than one view directory:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:views</span><span class="p">,</span> <span class="o">[</span><span class="s1">'views'</span><span class="p">,</span> <span class="s1">'templates'</span><span class="o">]</span>

<span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">find_template</span><span class="p">(</span><span class="n">views</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
    <span class="nb">Array</span><span class="p">(</span><span class="n">views</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span> <span class="k">super</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Another example would be using different directories for different engines:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:views</span><span class="p">,</span> <span class="ss">:sass</span> <span class="o">=&gt;</span> <span class="s1">'views/sass'</span><span class="p">,</span> <span class="ss">:haml</span> <span class="o">=&gt;</span> <span class="s1">'templates'</span><span class="p">,</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="s1">'views'</span>

<span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">find_template</span><span class="p">(</span><span class="n">views</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">folder</span> <span class="o">=</span> <span class="n">views</span><span class="o">.</span><span class="n">detect</span> <span class="p">{</span> <span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span> <span class="n">engine</span> <span class="o">==</span> <span class="no">Tilt</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="p">}</span>
    <span class="n">folder</span> <span class="o">||=</span> <span class="n">views</span><span class="o">[</span><span class="ss">:default</span><span class="o">]</span>
    <span class="k">super</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>You can also easily wrap this up in an extension and share with others!</p>

<p>Note that <code>find_template</code> does not check if the file really exists but
rather calls the given block for all possible paths. This is not a performance
issue, since <code>render</code> will use <code>break</code> as soon as a file is found. Also,
template locations (and content) will be cached if you are not running in
development mode. You should keep that in mind if you write a really crazy
method.</p>

<h2>
<a name="user-content-configuration" class="anchor" href="https://github.com/sinatra/sinatra#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>Run once, at startup, in any environment:</p>

<div class="highlight highlight-ruby"><pre><span class="n">configure</span> <span class="k">do</span>
  <span class="c1"># setting one option</span>
  <span class="n">set</span> <span class="ss">:option</span><span class="p">,</span> <span class="s1">'value'</span>

  <span class="c1"># setting multiple options</span>
  <span class="n">set</span> <span class="ss">:a</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:b</span> <span class="o">=&gt;</span> <span class="mi">2</span>

  <span class="c1"># same as `set :option, true`</span>
  <span class="n">enable</span> <span class="ss">:option</span>

  <span class="c1"># same as `set :option, false`</span>
  <span class="n">disable</span> <span class="ss">:option</span>

  <span class="c1"># you can also have dynamic settings with blocks</span>
  <span class="n">set</span><span class="p">(</span><span class="ss">:css_dir</span><span class="p">)</span> <span class="p">{</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">views</span><span class="p">,</span> <span class="s1">'css'</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div>

<p>Run only when the environment (<code>RACK_ENV</code> environment variable) is set to
<code>:production</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">configure</span> <span class="ss">:production</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre></div>

<p>Run when the environment is set to either <code>:production</code> or <code>:test</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">configure</span> <span class="ss">:production</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre></div>

<p>You can access those options via <code>settings</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">configure</span> <span class="k">do</span>
  <span class="n">set</span> <span class="ss">:foo</span><span class="p">,</span> <span class="s1">'bar'</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="n">settings</span><span class="o">.</span><span class="n">foo?</span> <span class="c1"># =&gt; true</span>
  <span class="n">settings</span><span class="o">.</span><span class="n">foo</span>  <span class="c1"># =&gt; 'bar'</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-configuring-attack-protection" class="anchor" href="https://github.com/sinatra/sinatra#configuring-attack-protection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuring attack protection</h3>

<p>Sinatra is using
<a href="https://github.com/rkh/rack-protection#readme">Rack::Protection</a> to defend
your application against common, opportunistic attacks. You can easily disable
this behavior (which will open up your application to tons of common
vulnerabilities):</p>

<div class="highlight highlight-ruby"><pre><span class="n">disable</span> <span class="ss">:protection</span>
</pre></div>

<p>To skip a single defense layer, set <code>protection</code> to an options hash:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:protection</span><span class="p">,</span> <span class="ss">:except</span> <span class="o">=&gt;</span> <span class="ss">:path_traversal</span>
</pre></div>

<p>You can also hand in an array in order to disable a list of protections:</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:protection</span><span class="p">,</span> <span class="ss">:except</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:path_traversal</span><span class="p">,</span> <span class="ss">:session_hijacking</span><span class="o">]</span>
</pre></div>

<p>By default, Sinatra will only set up session based protection if <code>:sessions</code>
has been enabled. Sometimes you want to set up sessions on your own, though. In
that case you can get it to set up session based protections by passing the
<code>:session</code> option:</p>

<div class="highlight highlight-ruby"><pre><span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Session</span><span class="o">::</span><span class="no">Pool</span>
<span class="n">set</span> <span class="ss">:protection</span><span class="p">,</span> <span class="ss">:session</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</pre></div>

<h3>
<a name="user-content-available-settings" class="anchor" href="https://github.com/sinatra/sinatra#available-settings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Available Settings</h3>

<dl>
<dt>absolute_redirects</dt>
  <dd>
    If disabled, Sinatra will allow relative redirects, however, Sinatra will no
    longer conform with RFC 2616 (HTTP 1.1), which only allows absolute redirects.
  </dd>
  <dd>
    Enable if your app is running behind a reverse proxy that has not been set up
    properly. Note that the <tt>url</tt> helper will still produce absolute URLs, unless you
    pass in <tt>false</tt> as the second parameter.
  </dd>
  <dd>Disabled by default.</dd>

  <dt>add_charsets</dt>
  <dd>
    Mime types the <tt>content_type</tt> helper will automatically add the charset info to.
    You should add to it rather than overriding this option:
    <tt>settings.add_charsets 
  </tt>
</dd>

  <dt>app_file</dt>
  <dd>
    Path to the main application file, used to detect project root, views and public
    folder and inline templates.
  </dd>

  <dt>bind</dt>
  <dd>IP address to bind to (default: <tt>0.0.0.0</tt> <em>or</em> <tt>localhost</tt> if your `environment` is set to development.). Only used for built-in server.</dd>

  <dt>default_encoding</dt>
  <dd>Encoding to assume if unknown (defaults to <tt>"utf-8"</tt>).</dd>

  <dt>dump_errors</dt>
  <dd>Display errors in the log.</dd>

  <dt>environment</dt>
  <dd>
    Current environment. Defaults to <tt>ENV['RACK_ENV']</tt>, or <tt>"development"</tt> if
    not available.
  </dd>

  <dt>logging</dt>
  <dd>Use the logger.</dd>

  <dt>lock</dt>
  <dd>
    Places a lock around every request, only running processing on request
    per Ruby process concurrently.
  </dd>
  <dd>Enabled if your app is not thread-safe. Disabled per default.</dd>

  <dt>method_override</dt>
  <dd>
    Use <tt>_method</tt> magic to allow put/delete forms in browsers that
    don't support it.
  </dd>

  <dt>port</dt>
  <dd>Port to listen on. Only used for built-in server.</dd>

  <dt>prefixed_redirects</dt>
  <dd>
    Whether or not to insert <tt>request.script_name</tt> into redirects if no
    absolute path is given. That way <tt>redirect '/foo'</tt> would behave like
    <tt>redirect to('/foo')</tt>. Disabled per default.
  </dd>

  <dt>protection</dt>
  <dd>Whether or not to enable web attack protections. See protection section above.</dd>

  <dt>public_dir</dt>
  <dd>Alias for <tt>public_folder</tt>. See below.</dd>

  <dt>public_folder</dt>
  <dd>
    Path to the folder public files are served from. Only used if static
    file serving is enabled (see <tt>static</tt> setting below). Inferred from
    <tt>app_file</tt> setting if not set.
  </dd>

  <dt>reload_templates</dt>
  <dd>
    Whether or not to reload templates between requests. Enabled in development mode.
  </dd>

  <dt>root</dt>
  <dd>
    Path to project root folder. Inferred from <tt>app_file</tt> setting if not set.
  </dd>

  <dt>raise_errors</dt>
  <dd>
    Raise exceptions (will stop application). Enabled by default when
    <tt>environment</tt> is set to <tt>"test"</tt>, disabled otherwise.
  </dd>

  <dt>run</dt>
  <dd>
    If enabled, Sinatra will handle starting the web server. Do not
    enable if using rackup or other means.
  </dd>

  <dt>running</dt>
  <dd>Is the built-in server running now? Do not change this setting!</dd>

  <dt>server</dt>
  <dd>
    Server or list of servers to use for built-in server. Order indicates
    priority, default depends on Ruby implementation.
  </dd>

  <dt>sessions</dt>
  <dd>
    Enable cookie-based sessions support using <tt>Rack::Session::Cookie</tt>.
    See 'Using Sessions' section for more information.
  </dd>

  <dt>show_exceptions</dt>
  <dd>
    Show a stack trace in the browser when an exception
    happens. Enabled by default when <tt>environment</tt>
    is set to <tt>"development"</tt>, disabled otherwise.
  </dd>
  <dd>
    Can also be set to <tt>:after_handler</tt> to trigger
    app-specified error handling before showing a stack
    trace in the browser.
  </dd>

  <dt>static</dt>
  <dd>Whether Sinatra should handle serving static files.</dd>
  <dd>Disable when using a server able to do this on its own.</dd>
  <dd>Disabling will boost performance.</dd>
  <dd>
    Enabled per default in classic style, disabled for
    modular apps.
  </dd>

  <dt>static_cache_control</dt>
  <dd>
    When Sinatra is serving static files, set this to add
    <tt>Cache-Control</tt> headers to the responses. Uses the
    <tt>cache_control</tt> helper. Disabled by default.
  </dd>
  <dd>
    Use an explicit array when setting multiple values:
    <tt>set :static_cache_control, [:public, :max_age =&gt; 300]</tt>
  </dd>

  <dt>threaded</dt>
  <dd>
    If set to <tt>true</tt>, will tell Thin to use <tt>EventMachine.defer</tt>
    for processing the request.
  </dd>

  <dt>traps</dt>
  <dd>Whether Sinatra should handle system signals.</dd>

  <dt>views</dt>
  <dd>
    Path to the views folder. Inferred from <tt>app_file</tt> setting if
    not set.
  </dd>

  <dt>x_cascade</dt>
  <dd>
    Whether or not to set the X-Cascade header if no route matches.
    Defaults to <tt>true</tt>.
  </dd>
</dl><h2>
<a name="user-content-environments" class="anchor" href="https://github.com/sinatra/sinatra#environments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Environments</h2>

<p>There are three predefined <code>environments</code>: <code>"development"</code>,
<code>"production"</code> and <code>"test"</code>. Environments can be set
through the <code>RACK_ENV</code> environment variable. The default value is
<code>"development"</code>. In the <code>"development"</code> environment all templates are reloaded between
requests, and special <code>not_found</code> and <code>error</code> handlers
display stack traces in your browser.
In the <code>"production"</code> and <code>"test"</code> environments, templates are cached by default.</p>

<p>To run different environments, set the <code>RACK_ENV</code> environment variable:</p>

<pre lang="shell"><code>RACK_ENV=production ruby my_app.rb
</code></pre>

<p>You can use predefined methods: <code>development?</code>, <code>test?</code> and <code>production?</code> to
check the current environment setting:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">development?</span>
    <span class="s2">"development!"</span>
  <span class="k">else</span>
    <span class="s2">"not development!"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="user-content-error-handling" class="anchor" href="https://github.com/sinatra/sinatra#error-handling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Error Handling</h2>

<p>Error handlers run within the same context as routes and before filters, which
means you get all the goodies it has to offer, like <code>haml</code>,
<code>erb</code>, <code>halt</code>, etc.</p>

<h3>
<a name="user-content-not-found" class="anchor" href="https://github.com/sinatra/sinatra#not-found" aria-hidden="true"><span class="octicon octicon-link"></span></a>Not Found</h3>

<p>When a <code>Sinatra::NotFound</code> exception is raised, or the response's status
code is 404, the <code>not_found</code> handler is invoked:</p>

<div class="highlight highlight-ruby"><pre><span class="n">not_found</span> <span class="k">do</span>
  <span class="s1">'This is nowhere to be found.'</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-error" class="anchor" href="https://github.com/sinatra/sinatra#error" aria-hidden="true"><span class="octicon octicon-link"></span></a>Error</h3>

<p>The <code>error</code> handler is invoked any time an exception is raised from a route
block or a filter. But note in development it will only run if you set the
show exceptions option to <code>:after_handler</code>.</p>

<div class="highlight highlight-ruby"><pre><span class="n">set</span> <span class="ss">:show_exceptions</span><span class="p">,</span> <span class="ss">:after_handler</span>
</pre></div>

<p>The exception object can be obtained from the <code>sinatra.error</code> Rack variable.</p>

<div class="highlight highlight-ruby"><pre><span class="n">error</span> <span class="k">do</span>
  <span class="s1">'Sorry there was a nasty error - '</span> <span class="o">+</span> <span class="n">env</span><span class="o">[</span><span class="s1">'sinatra.error'</span><span class="o">].</span><span class="n">name</span>
<span class="k">end</span>
</pre></div>

<p>Custom errors:</p>

<div class="highlight highlight-ruby"><pre><span class="n">error</span> <span class="no">MyCustomError</span> <span class="k">do</span>
  <span class="s1">'So what happened was...'</span> <span class="o">+</span> <span class="n">env</span><span class="o">[</span><span class="s1">'sinatra.error'</span><span class="o">].</span><span class="n">message</span>
<span class="k">end</span>
</pre></div>

<p>Then, if this happens:</p>

<div class="highlight highlight-ruby"><pre><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="k">raise</span> <span class="no">MyCustomError</span><span class="p">,</span> <span class="s1">'something bad'</span>
<span class="k">end</span>
</pre></div>

<p>You get this:</p>

<pre><code>So what happened was... something bad
</code></pre>

<p>Alternatively, you can install an error handler for a status code:</p>

<div class="highlight highlight-ruby"><pre><span class="n">error</span> <span class="mi">403</span> <span class="k">do</span>
  <span class="s1">'Access forbidden'</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">'/secret'</span> <span class="k">do</span>
  <span class="mi">403</span>
<span class="k">end</span>
</pre></div>

<p>Or a range:</p>

<div class="highlight highlight-ruby"><pre><span class="n">error</span> <span class="mi">400</span><span class="o">.</span><span class="n">.</span><span class="mi">510</span> <span class="k">do</span>
  <span class="s1">'Boom'</span>
<span class="k">end</span>
</pre></div>

<p>Sinatra installs special <code>not_found</code> and <code>error</code> handlers when
running under the development environment to display nice stack traces
and additional debugging information in your browser.</p>

<h2>
<a name="user-content-rack-middleware" class="anchor" href="https://github.com/sinatra/sinatra#rack-middleware" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rack Middleware</h2>

<p>Sinatra rides on <a href="http://rack.rubyforge.org/">Rack</a>, a minimal standard
interface for Ruby web frameworks. One of Rack's most interesting capabilities
for application developers is support for "middleware" -- components that sit
between the server and your application monitoring and/or manipulating the
HTTP request/response to provide various types of common functionality.</p>

<p>Sinatra makes building Rack middleware pipelines a cinch via a top-level
<code>use</code> method:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra'</span>
<span class="nb">require</span> <span class="s1">'my_custom_middleware'</span>

<span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Lint</span>
<span class="n">use</span> <span class="no">MyCustomMiddleware</span>

<span class="n">get</span> <span class="s1">'/hello'</span> <span class="k">do</span>
  <span class="s1">'Hello World'</span>
<span class="k">end</span>
</pre></div>

<p>The semantics of <code>use</code> are identical to those defined for the
<a href="http://rack.rubyforge.org/doc/classes/Rack/Builder.html">Rack::Builder</a> DSL
(most frequently used from rackup files). For example, the <code>use</code> method
accepts multiple/variable args as well as blocks:</p>

<div class="highlight highlight-ruby"><pre><span class="n">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Auth</span><span class="o">::</span><span class="no">Basic</span> <span class="k">do</span> <span class="o">|</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">|</span>
  <span class="n">username</span> <span class="o">==</span> <span class="s1">'admin'</span> <span class="o">&amp;&amp;</span> <span class="n">password</span> <span class="o">==</span> <span class="s1">'secret'</span>
<span class="k">end</span>
</pre></div>

<p>Rack is distributed with a variety of standard middleware for logging,
debugging, URL routing, authentication, and session handling. Sinatra uses
many of these components automatically based on configuration so you
typically don't have to <code>use</code> them explicitly.</p>

<p>You can find useful middleware in
<a href="https://github.com/rack/rack/tree/master/lib/rack">rack</a>,
<a href="https://github.com/rack/rack-contrib#readm">rack-contrib</a>,
or in the <a href="https://github.com/rack/rack/wiki/List-of-Middleware">Rack wiki</a>.</p>

<h2>
<a name="user-content-testing" class="anchor" href="https://github.com/sinatra/sinatra#testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing</h2>

<p>Sinatra tests can be written using any Rack-based testing library or framework.
<a href="http://rdoc.info/github/brynary/rack-test/master/frames">Rack::Test</a>
is recommended:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'my_sinatra_app'</span>
<span class="nb">require</span> <span class="s1">'test/unit'</span>
<span class="nb">require</span> <span class="s1">'rack/test'</span>

<span class="k">class</span> <span class="nc">MyAppTest</span> <span class="o">&lt;</span> <span class="no">Test</span><span class="o">::</span><span class="no">Unit</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="kp">include</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Test</span><span class="o">::</span><span class="no">Methods</span>

  <span class="k">def</span> <span class="nf">app</span>
    <span class="no">Sinatra</span><span class="o">::</span><span class="no">Application</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_my_default</span>
    <span class="n">get</span> <span class="s1">'/'</span>
    <span class="n">assert_equal</span> <span class="s1">'Hello World!'</span><span class="p">,</span> <span class="n">last_response</span><span class="o">.</span><span class="n">body</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_with_params</span>
    <span class="n">get</span> <span class="s1">'/meet'</span><span class="p">,</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'Frank'</span>
    <span class="n">assert_equal</span> <span class="s1">'Hello Frank!'</span><span class="p">,</span> <span class="n">last_response</span><span class="o">.</span><span class="n">body</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_with_rack_env</span>
    <span class="n">get</span> <span class="s1">'/'</span><span class="p">,</span> <span class="p">{},</span> <span class="s1">'HTTP_USER_AGENT'</span> <span class="o">=&gt;</span> <span class="s1">'Songbird'</span>
    <span class="n">assert_equal</span> <span class="s2">"You're using Songbird!"</span><span class="p">,</span> <span class="n">last_response</span><span class="o">.</span><span class="n">body</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Note: If you are using Sinatra in the modular style, replace <code>Sinatra::Application</code>
above with the class name of your app.</p>

<h2>
<a name="user-content-sinatrabase---middleware-libraries-and-modular-apps" class="anchor" href="https://github.com/sinatra/sinatra#sinatrabase---middleware-libraries-and-modular-apps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sinatra::Base - Middleware, Libraries, and Modular Apps</h2>

<p>Defining your app at the top-level works well for micro-apps but has
considerable drawbacks when building reusable components such as Rack
middleware, Rails metal, simple libraries with a server component, or even
Sinatra extensions. The top-level assumes a micro-app style configuration
(e.g., a single application file, <code>./public</code> and <code>./views</code>
directories, logging, exception detail page, etc.). That's where
<code>Sinatra::Base</code> comes into play:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra/base'</span>

<span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">set</span> <span class="ss">:sessions</span><span class="p">,</span> <span class="kp">true</span>
  <span class="n">set</span> <span class="ss">:foo</span><span class="p">,</span> <span class="s1">'bar'</span>

  <span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
    <span class="s1">'Hello world!'</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>The methods available to <code>Sinatra::Base</code> subclasses are exactly the same as those
available via the top-level DSL. Most top-level apps can be converted to
<code>Sinatra::Base</code> components with two modifications:</p>

<ul class="task-list">
<li>Your file should require <code>sinatra/base</code> instead of <code>sinatra</code>;
otherwise, all of Sinatra's DSL methods are imported into the main
namespace.</li>
<li>Put your app's routes, error handlers, filters, and options in a subclass
of <code>Sinatra::Base</code>.</li>
</ul><p><code>Sinatra::Base</code> is a blank slate. Most options are disabled by default,
including the built-in server. See
<a href="http://sinatra.github.com/configuration.html">Configuring Settings</a>
for details on available options and their behavior. If you want
behavior more similar to when you define your app at the top level (also
know as Classic style), you
can subclass <code>Sinatra::Application</code>.</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra/base'</span>

<span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Application</span>
  <span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
    <span class="s1">'Hello world!'</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-modular-vs-classic-style" class="anchor" href="https://github.com/sinatra/sinatra#modular-vs-classic-style" aria-hidden="true"><span class="octicon octicon-link"></span></a>Modular vs. Classic Style</h3>

<p>Contrary to common belief, there is nothing wrong with the classic style. If it
suits your application, you do not have to switch to a modular application.</p>

<p>The main disadvantage of using the classic style rather than the modular style is that
you will only have one Sinatra application per Ruby process. If you plan to use
more than one, switch to the modular style. There is no reason you cannot mix
the modular and the classic styles.</p>

<p>If switching from one style to the other, you should be aware of slightly
different default settings:</p>

<table>
<tbody><tr>
<th>Setting</th>
    <th>Classic</th>
    <th>Modular</th>
    <th>Modular</th>
  </tr>
<tr>
<td>app_file</td>
    <td>file loading sinatra</td>
    <td>file subclassing Sinatra::Base</td>
    <td>file subclassing Sinatra::Application</td>
  </tr>
<tr>
<td>run</td>
    <td>$0 == app_file</td>
    <td>false</td>
    <td>false</td>
  </tr>
<tr>
<td>logging</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>
<tr>
<td>method_override</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>
<tr>
<td>inline_templates</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>
<tr>
<td>static</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>
</tbody></table><h3>
<a name="user-content-serving-a-modular-application" class="anchor" href="https://github.com/sinatra/sinatra#serving-a-modular-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>Serving a Modular Application</h3>

<p>There are two common options for starting a modular app, actively starting with
<code>run!</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># my_app.rb</span>
<span class="nb">require</span> <span class="s1">'sinatra/base'</span>

<span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="c1"># ... app code here ...</span>

  <span class="c1"># start the server if ruby file executed directly</span>
  <span class="n">run!</span> <span class="k">if</span> <span class="n">app_file</span> <span class="o">==</span> <span class="vg">$0</span>
<span class="k">end</span>
</pre></div>

<p>Start with:</p>

<pre lang="shell"><code>ruby my_app.rb
</code></pre>

<p>Or with a <code>config.ru</code> file, which allows using any Rack handler:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># config.ru (run with rackup)</span>
<span class="nb">require</span> <span class="s1">'./my_app'</span>
<span class="n">run</span> <span class="no">MyApp</span>
</pre></div>

<p>Run:</p>

<pre lang="shell"><code>rackup -p 4567
</code></pre>

<h3>
<a name="user-content-using-a-classic-style-application-with-a-configru" class="anchor" href="https://github.com/sinatra/sinatra#using-a-classic-style-application-with-a-configru" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using a Classic Style Application with a config.ru</h3>

<p>Write your app file:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># app.rb</span>
<span class="nb">require</span> <span class="s1">'sinatra'</span>

<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="s1">'Hello world!'</span>
<span class="k">end</span>
</pre></div>

<p>And a corresponding <code>config.ru</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'./app'</span>
<span class="n">run</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Application</span>
</pre></div>

<h3>
<a name="user-content-when-to-use-a-configru" class="anchor" href="https://github.com/sinatra/sinatra#when-to-use-a-configru" aria-hidden="true"><span class="octicon octicon-link"></span></a>When to use a config.ru?</h3>

<p>A <code>config.ru</code> file is recommended if:</p>

<ul class="task-list">
<li>You want to deploy with a different Rack handler (Passenger, Unicorn,
Heroku, ...).</li>
<li>You want to use more than one subclass of <code>Sinatra::Base</code>.</li>
<li>You want to use Sinatra only for middleware, and not as an endpoint.</li>
</ul><p><strong>There is no need to switch to a <code>config.ru</code> simply because you
switched to the modular style, and you don't have to use the modular style for running
with a <code>config.ru</code>.</strong></p>

<h3>
<a name="user-content-using-sinatra-as-middleware" class="anchor" href="https://github.com/sinatra/sinatra#using-sinatra-as-middleware" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Sinatra as Middleware</h3>

<p>Not only is Sinatra able to use other Rack middleware, any Sinatra application
can in turn be added in front of any Rack endpoint as middleware itself. This
endpoint could be another Sinatra application, or any other Rack-based
application (Rails/Ramaze/Camping/...):</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra/base'</span>

<span class="k">class</span> <span class="nc">LoginScreen</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">enable</span> <span class="ss">:sessions</span>

  <span class="n">get</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">)</span> <span class="p">{</span> <span class="n">haml</span> <span class="ss">:login</span> <span class="p">}</span>

  <span class="n">post</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">)</span> <span class="k">do</span>
    <span class="k">if</span> <span class="n">params</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span> <span class="o">==</span> <span class="s1">'admin'</span> <span class="o">&amp;&amp;</span> <span class="n">params</span><span class="o">[</span><span class="s1">'password'</span><span class="o">]</span> <span class="o">==</span> <span class="s1">'admin'</span>
      <span class="n">session</span><span class="o">[</span><span class="s1">'user_name'</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span>
    <span class="k">else</span>
      <span class="n">redirect</span> <span class="s1">'/login'</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="c1"># middleware will run before filters</span>
  <span class="n">use</span> <span class="no">LoginScreen</span>

  <span class="n">before</span> <span class="k">do</span>
    <span class="k">unless</span> <span class="n">session</span><span class="o">[</span><span class="s1">'user_name'</span><span class="o">]</span>
      <span class="n">halt</span> <span class="s2">"Access denied, please &lt;a href='/login'&gt;login&lt;/a&gt;."</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"Hello </span><span class="si">#{</span><span class="n">session</span><span class="o">[</span><span class="s1">'user_name'</span><span class="o">]</span><span class="si">}</span><span class="s2">."</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div>

<h3>
<a name="user-content-dynamic-application-creation" class="anchor" href="https://github.com/sinatra/sinatra#dynamic-application-creation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dynamic Application Creation</h3>

<p>Sometimes you want to create new applications at runtime without having to
assign them to a constant. You can do this with <code>Sinatra.new</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra/base'</span>
<span class="n">my_app</span> <span class="o">=</span> <span class="no">Sinatra</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"hi"</span> <span class="p">}</span> <span class="p">}</span>
<span class="n">my_app</span><span class="o">.</span><span class="n">run!</span>
</pre></div>

<p>It takes the application to inherit from as an optional argument:</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># config.ru (run with rackup)</span>
<span class="nb">require</span> <span class="s1">'sinatra/base'</span>

<span class="n">controller</span> <span class="o">=</span> <span class="no">Sinatra</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
  <span class="n">enable</span> <span class="ss">:logging</span>
  <span class="n">helpers</span> <span class="no">MyHelpers</span>
<span class="k">end</span>

<span class="n">map</span><span class="p">(</span><span class="s1">'/a'</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">run</span> <span class="no">Sinatra</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span> <span class="p">{</span> <span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'a'</span> <span class="p">}</span> <span class="p">}</span>
<span class="k">end</span>

<span class="n">map</span><span class="p">(</span><span class="s1">'/b'</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">run</span> <span class="no">Sinatra</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span> <span class="p">{</span> <span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'b'</span> <span class="p">}</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div>

<p>This is especially useful for testing Sinatra extensions or using Sinatra in
your own library.</p>

<p>This also makes using Sinatra as middleware extremely easy:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'sinatra/base'</span>

<span class="n">use</span> <span class="no">Sinatra</span> <span class="k">do</span>
  <span class="n">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span> <span class="p">}</span>
<span class="k">end</span>

<span class="n">run</span> <span class="no">RailsProject</span><span class="o">::</span><span class="no">Application</span>
</pre></div>

<h2>
<a name="user-content-scopes-and-binding" class="anchor" href="https://github.com/sinatra/sinatra#scopes-and-binding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scopes and Binding</h2>

<p>The scope you are currently in determines what methods and variables are
available.</p>

<h3>
<a name="user-content-applicationclass-scope" class="anchor" href="https://github.com/sinatra/sinatra#applicationclass-scope" aria-hidden="true"><span class="octicon octicon-link"></span></a>Application/Class Scope</h3>

<p>Every Sinatra application corresponds to a subclass of <code>Sinatra::Base</code>.
If you are using the top-level DSL (<code>require 'sinatra'</code>), then this
class is <code>Sinatra::Application</code>, otherwise it is the subclass you
created explicitly. At class level you have methods like <code>get</code> or <code>before</code>, but
you cannot access the <code>request</code> or <code>session</code> objects, as there is only a
single application class for all requests.</p>

<p>Options created via <code>set</code> are methods at class level:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="c1"># Hey, I'm in the application scope!</span>
  <span class="n">set</span> <span class="ss">:foo</span><span class="p">,</span> <span class="mi">42</span>
  <span class="n">foo</span> <span class="c1"># =&gt; 42</span>

  <span class="n">get</span> <span class="s1">'/foo'</span> <span class="k">do</span>
    <span class="c1"># Hey, I'm no longer in the application scope!</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>You have the application scope binding inside:</p>

<ul class="task-list">
<li>Your application class body</li>
<li>Methods defined by extensions</li>
<li>The block passed to <code>helpers</code>
</li>
<li>Procs/blocks used as value for <code>set</code>
</li>
<li>The block passed to <code>Sinatra.new</code>
</li>
</ul><p>You can reach the scope object (the class) like this:</p>

<ul class="task-list">
<li>Via the object passed to configure blocks (<code>configure { |c| ... }</code>)</li>
<li>
<code>settings</code> from within the request scope</li>
</ul><h3>
<a name="user-content-requestinstance-scope" class="anchor" href="https://github.com/sinatra/sinatra#requestinstance-scope" aria-hidden="true"><span class="octicon octicon-link"></span></a>Request/Instance Scope</h3>

<p>For every incoming request, a new instance of your application class is
created, and all handler blocks run in that scope. From within this scope you
can access the <code>request</code> and <code>session</code> objects or call rendering methods like
<code>erb</code> or <code>haml</code>. You can access the application scope from within the request
scope via the <code>settings</code> helper:</p>

<div class="highlight highlight-ruby"><pre><span class="k">class</span> <span class="nc">MyApp</span> <span class="o">&lt;</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Base</span>
  <span class="c1"># Hey, I'm in the application scope!</span>
  <span class="n">get</span> <span class="s1">'/define_route/:name'</span> <span class="k">do</span>
    <span class="c1"># Request scope for '/define_route/:name'</span>
    <span class="vi">@value</span> <span class="o">=</span> <span class="mi">42</span>

    <span class="n">settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"/</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span>
      <span class="c1"># Request scope for "/#{params['name']}"</span>
      <span class="vi">@value</span> <span class="c1"># =&gt; nil (not the same request)</span>
    <span class="k">end</span>

    <span class="s2">"Route defined!"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>You have the request scope binding inside:</p>

<ul class="task-list">
<li>get, head, post, put, delete, options, patch, link, and unlink blocks</li>
<li>before and after filters</li>
<li>helper methods</li>
<li>templates/views</li>
</ul><h3>
<a name="user-content-delegation-scope" class="anchor" href="https://github.com/sinatra/sinatra#delegation-scope" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delegation Scope</h3>

<p>The delegation scope just forwards methods to the class scope. However, it
does not behave exactly like the class scope, as you do not have the class
binding. Only methods explicitly marked for delegation are available, and you
do not share variables/state with the class scope (read: you have a different
<code>self</code>). You can explicitly add method delegations by calling
<code>Sinatra::Delegator.delegate :method_name</code>.</p>

<p>You have the delegate scope binding inside:</p>

<ul class="task-list">
<li>The top level binding, if you did <code>require "sinatra"</code>
</li>
<li>An object extended with the <code>Sinatra::Delegator</code> mixin</li>
</ul><p>Have a look at the code for yourself: here's the
<a href="https://github.com/sinatra/sinatra/blob/ca06364/lib/sinatra/base.rb#L1609-1633">Sinatra::Delegator mixin</a>
being <a href="https://github.com/sinatra/sinatra/blob/ca06364/lib/sinatra/main.rb#L28-30">extending the main object</a>.</p>

<h2>
<a name="user-content-command-line" class="anchor" href="https://github.com/sinatra/sinatra#command-line" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command Line</h2>

<p>Sinatra applications can be run directly:</p>

<pre lang="shell"><code>ruby myapp.rb [-h] [-x] [-e ENVIRONMENT] [-p PORT] [-o HOST] [-s HANDLER]
</code></pre>

<p>Options are:</p>

<pre><code>-h # help
-p # set the port (default is 4567)
-o # set the host (default is 0.0.0.0)
-e # set the environment (default is development)
-s # specify rack server/handler (default is thin)
-x # turn on the mutex lock (default is off)
</code></pre>

<h2>
<a name="user-content-requirement" class="anchor" href="https://github.com/sinatra/sinatra#requirement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirement</h2>

<p>The following Ruby versions are officially supported:</p>

<dl>
<dt>Ruby 1.8.7</dt>
  <dd>
    1.8.7 is fully supported, however, if nothing is keeping you from it, we
    recommend upgrading or switching to JRuby or Rubinius. Support for 1.8.7
    will not be dropped before Sinatra 2.0. Ruby 1.8.6 is no longer supported.
  </dd>

  <dt>Ruby 1.9.2</dt>
  <dd>
    1.9.2 is fully supported. Do not use 1.9.2p0, as it is known to cause
    segmentation faults when running Sinatra. Official support will continue
    at least until the release of Sinatra 1.5.
  </dd>

  <dt>Ruby 1.9.3</dt>
  <dd>
    1.9.3 is fully supported and recommended. Please note that switching to 1.9.3
    from an earlier version will invalidate all sessions. 1.9.3 will be supported
    until the release of Sinatra 2.0.
  </dd>

  <dt>Ruby 2.0.0</dt>
  <dd>
    2.0.0 is fully supported and recommended. There are currently no plans to drop
    official support for it.
  </dd>

  <dt>Rubinius</dt>
  <dd>
    Rubinius is officially supported (Rubinius &gt;= 2.x). It is recommended to
    <tt>gem install puma</tt>.
  </dd>

  <dt>JRuby</dt>
  <dd>
    The latest stable release of JRuby is officially supported. It is not
    recommended to use C extensions with JRuby. It is recommended to
    <tt>gem install trinidad</tt>.
  </dd>
</dl><p>We also keep an eye on upcoming Ruby versions.</p>

<p>The following Ruby implementations are not officially supported but still are
known to run Sinatra:</p>

<ul class="task-list">
<li>Older versions of JRuby and Rubinius</li>
<li>Ruby Enterprise Edition</li>
<li>MacRuby, Maglev, IronRuby</li>
<li>Ruby 1.9.0 and 1.9.1 (but we do recommend against using those)</li>
</ul><p>Not being officially supported means if things only break there and not on a
supported platform, we assume it's not our issue but theirs.</p>

<p>We also run our CI against ruby-head (the upcoming 2.1.0), but we can't
guarantee anything, since it is constantly moving. Expect 2.1.0 to be fully
supported.</p>

<p>Sinatra should work on any operating system supported by the chosen Ruby
implementation.</p>

<p>If you run MacRuby, you should <code>gem install control_tower</code>.</p>

<p>Sinatra currently doesn't run on Cardinal, SmallRuby, BlueRuby or any
Ruby version prior to 1.8.7.</p>

<h2>
<a name="user-content-the-bleeding-edge" class="anchor" href="https://github.com/sinatra/sinatra#the-bleeding-edge" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Bleeding Edge</h2>

<p>If you would like to use Sinatra's latest bleeding-edge code, feel free to run your
application against the master branch, it should be rather stable.</p>

<p>We also push out prerelease gems from time to time, so you can do a</p>

<pre lang="shell"><code>gem install sinatra --pre
</code></pre>

<p>to get some of the latest features.</p>

<h3>
<a name="user-content-with-bundler" class="anchor" href="https://github.com/sinatra/sinatra#with-bundler" aria-hidden="true"><span class="octicon octicon-link"></span></a>With Bundler</h3>

<p>If you want to run your application with the latest Sinatra, using
<a href="http://gembundler.com/">Bundler</a> is the recommended way.</p>

<p>First, install bundler, if you haven't:</p>

<pre lang="shell"><code>gem install bundler
</code></pre>

<p>Then, in your project directory, create a <code>Gemfile</code>:</p>

<div class="highlight highlight-ruby"><pre><span class="n">source</span> <span class="s1">'https://rubygems.org'</span>
<span class="n">gem</span> <span class="s1">'sinatra'</span><span class="p">,</span> <span class="ss">:github</span> <span class="o">=&gt;</span> <span class="s2">"sinatra/sinatra"</span>

<span class="c1"># other dependencies</span>
<span class="n">gem</span> <span class="s1">'haml'</span>                    <span class="c1"># for instance, if you use haml</span>
<span class="n">gem</span> <span class="s1">'activerecord'</span><span class="p">,</span> <span class="s1">'~&gt; 3.0'</span>  <span class="c1"># maybe you also need ActiveRecord 3.x</span>
</pre></div>

<p>Note that you will have to list all your application's dependencies in the <code>Gemfile</code>.
Sinatra's direct dependencies (Rack and Tilt) will, however, be automatically
fetched and added by Bundler.</p>

<p>Now you can run your app like this:</p>

<pre lang="shell"><code>bundle exec ruby myapp.rb
</code></pre>

<h3>
<a name="user-content-roll-your-own" class="anchor" href="https://github.com/sinatra/sinatra#roll-your-own" aria-hidden="true"><span class="octicon octicon-link"></span></a>Roll Your Own</h3>

<p>Create a local clone and run your app with the <code>sinatra/lib</code> directory
on the <code>$LOAD_PATH</code>:</p>

<pre lang="shell"><code>cd myapp
git clone git://github.com/sinatra/sinatra.git
ruby -I sinatra/lib myapp.rb
</code></pre>

<p>To update the Sinatra sources in the future:</p>

<pre lang="shell"><code>cd myapp/sinatra
git pull
</code></pre>

<h3>
<a name="user-content-install-globally" class="anchor" href="https://github.com/sinatra/sinatra#install-globally" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install Globally</h3>

<p>You can build the gem on your own:</p>

<pre lang="shell"><code>git clone git://github.com/sinatra/sinatra.git
cd sinatra
rake sinatra.gemspec
rake install
</code></pre>

<p>If you install gems as root, the last step should be:</p>

<pre lang="shell"><code>sudo rake install
</code></pre>

<h2>
<a name="user-content-versioning" class="anchor" href="https://github.com/sinatra/sinatra#versioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Versioning</h2>

<p>Sinatra follows <a href="http://semver.org/">Semantic Versioning</a>, both SemVer and
SemVerTag.</p>

<h2>
<a name="user-content-further-reading" class="anchor" href="https://github.com/sinatra/sinatra#further-reading" aria-hidden="true"><span class="octicon octicon-link"></span></a>Further Reading</h2>

<ul class="task-list">
<li>
<a href="http://www.sinatrarb.com/">Project Website</a> - Additional documentation,
news, and links to other resources.</li>
<li>
<a href="http://www.sinatrarb.com/contributing">Contributing</a> - Find a bug? Need
help? Have a patch?</li>
<li><a href="http://github.com/sinatra/sinatra/issues">Issue tracker</a></li>
<li><a href="http://twitter.com/sinatra">Twitter</a></li>
<li><a href="http://groups.google.com/group/sinatrarb/topics">Mailing List</a></li>
<li>IRC: #sinatra on <a href="http://freenode.net/">http://freenode.net</a>
</li>
<li>
<a href="http://sinatra-book.gittr.com/">Sinatra Book</a> Cookbook Tutorial</li>
<li>
<a href="http://recipes.sinatrarb.com/">Sinatra Recipes</a> Community
contributed recipes</li>
<li>API documentation for the <a href="http://rubydoc.info/gems/sinatra">latest release</a>
or the <a href="http://rubydoc.info/github/sinatra/sinatra">current HEAD</a> on
<a href="http://rubydoc.info/">http://rubydoc.info</a>
</li>
<li><a href="http://travis-ci.org/sinatra/sinatra">CI server</a></li>
</ul></article>
  </div>


        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com/">API</a></li>
      <li><a href="http://training.github.com/">Training</a></li>
      <li><a href="http://shop.github.com/">Shop</a></li>
      <li><a href="https://github.com/blog">Blog</a></li>
      <li><a href="https://github.com/about">About</a></li>

    </ul>

    <a href="https://github.com/" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
    </a>

    <ul class="site-footer-links">
      <li>© 2014 <span title="0.07815s from github-fe139-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy">Privacy</a></li>
        <li><a href="https://github.com/security">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents js-suggester-field" placeholder=""></textarea>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="https://github.com/sinatra/sinatra#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="https://github.com/sinatra/sinatra#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w" aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="https://github.com/sinatra/sinatra#" class="octicon octicon-x close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="./sinatra sinatra_files/frameworks-12d5fda141e78e513749dddbc56445fe172cbd9a.js" type="text/javascript"></script>
      <script async="async" crossorigin="anonymous" src="./sinatra sinatra_files/github-91c8c29a09ed2b10dc0fe500f8ca17a791e374ae.js" type="text/javascript"></script>
      
      
        <script async="" src="./sinatra sinatra_files/analytics.js"></script>
  


<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 1px; height: 1px; z-index: 999999999;"><object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" type="application/x-shockwave-flash" data="https://assets-cdn.github.com/flash/ZeroClipboard.v2.1.6.swf"><param name="allowScriptAccess" value="always"><param name="allowNetworking" value="all"><param name="menu" value="false"><param name="wmode" value="transparent"><param name="flashvars" value="trustedOrigins=github.com%2C%2F%2Fgithub.com%2Chttps%3A%2F%2Fgithub.com&amp;swfObjectId=global-zeroclipboard-flash-bridge"></object></div></body></html>